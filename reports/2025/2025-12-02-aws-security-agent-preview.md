# AWS Security Agent - アプリケーションセキュリティの自動化 (プレビュー)

**リリース日**: 2025 年 12 月 2 日  
**サービス**: AWS Security Agent  
**機能**: 設計セキュリティレビュー、コードセキュリティレビュー、オンデマンドペネトレーションテスト


## 概要

AWS は AWS Security Agent のプレビューを発表しました。これは、開発ライフサイクル全体を通じてアプリケーションを積極的に保護するフロンティアエージェントです。組織の要件に合わせた自動アプリケーションセキュリティレビューを実施し、オンデマンドでコンテキスト認識型のペネトレーションテストを提供します。

従来の SAST (静的アプリケーションセキュリティテスト) ツールはランタイムコンテキストなしでコードを検査し、DAST (動的アプリケーションセキュリティテスト) ツールはアプリケーションレベルのコンテキストなしで実行中のアプリケーションを評価します。AWS Security Agent はコンテキスト認識型であり、アプリケーション全体を理解します。

**アップデート前の課題**

- SAST/DAST ツールは一次元的で、アプリケーションの設計、直面するセキュリティ脅威、実行環境を理解しない
- セキュリティチームはすべてを手動でレビューする必要があり、遅延が発生
- ペネトレーションテストは外部ベンダーや内部チームの空き時間を待つ必要があり、数週間かかることも
- 81% の組織が納期を守るために脆弱なコードを意図的にデプロイ (Checkmarx 2025 レポート)

**アップデート後の改善**

- AWS Security Agent がアプリケーション設計、コード、特定のセキュリティ要件を理解
- セキュリティ違反を自動的に継続スキャンし、ペネトレーションテストをオンデマンドで即座に実行
- 本番環境前により深く洗練された脆弱性を発見し、遅延やサプライズなしにアプリケーションを保護



## サービスアップデートの詳細

### 主要機能

1. **設計セキュリティレビュー**
   - アーキテクチャドキュメントと製品仕様を分析し、コード作成前にセキュリティリスクを特定
   - 組織のセキュリティ要件への準拠を評価
   - 修正ガイダンスを提供

2. **コードセキュリティレビュー**
   - GitHub のプルリクエストを分析し、セキュリティ脆弱性と組織ポリシー違反を特定
   - OWASP Top Ten の一般的な脆弱性 (SQL インジェクション、XSS、不適切な入力検証など) を検出
   - 設計レビューと同じ組織セキュリティ要件を適用

3. **オンデマンドペネトレーションテスト**
   - マルチステップ攻撃シナリオを通じて脆弱性を発見・検証
   - 13 のリスクカテゴリ (認証、認可、インジェクション攻撃など) にわたるセキュリティテスト
   - ソースコード、API 仕様、ビジネスドキュメントからコンテキストを構築
   - 評価中に発見した情報に基づいて攻撃戦略を動的に適応

4. **セキュリティ要件管理**
   - AWS マネージド要件 (業界標準とベストプラクティスに基づく)
   - カスタム要件の定義 (組織固有のポリシー)
   - 全 Agent Space で共有され、設計・コードレビューの両方に適用


## 技術仕様

### コンプライアンスステータス

| ステータス | 説明 |
|-----------|------|
| Non-compliant | 設計がセキュリティ要件に違反または不十分に対処 |
| Insufficient data | アップロードされたファイルにコンプライアンス判断に十分な情報がない |
| Compliant | 設計がセキュリティ要件を満たしている |
| Not applicable | セキュリティ要件がこのシステム設計に適用されない |

### ペネトレーションテストのリスクカテゴリ

| カテゴリ | 説明 |
|---------|------|
| 認証 | 認証メカニズムの脆弱性 |
| 認可 | アクセス制御の問題 |
| インジェクション攻撃 | SQL、SSTI などのインジェクション |
| その他 10 カテゴリ | OWASP Top Ten に基づく包括的なテスト |


## 設定方法

### 前提条件

1. AWS アカウント
2. AWS Security Agent コンソールへのアクセス
3. テスト対象ドメインの所有権確認

### 手順

#### ステップ 1: Agent Space の作成

AWS Security Agent コンソールで **Set up AWS Security Agent** を選択します。

```
1. Agent Space name を入力
2. Description を追加 (オプション)
3. ユーザーアクセス方法を選択:
   - SSO with IAM Identity Center
   - IAM users
4. IAM ロールを設定
5. Set up AWS Security Agent を選択
```

#### ステップ 2: セキュリティ要件の設定

**Security requirements** に移動し、要件を設定します。

```
マネージド要件: AWS が提供する業界標準ベースの要件を有効化
カスタム要件: 組織固有のポリシーを定義
例:
- Network Segmentation Strategy Defined
- Short Session Timeouts for Privileged and PII Access
- Customer-Managed Encryption Keys Required
```

#### ステップ 3: 設計レビューの実行

Web アプリで **Create design review** を選択します。

```
1. Design review name を入力
2. 設計ファイルをアップロード (最大 5 ファイル)
3. Start design review を選択
```


## メリット

### ビジネス面

- **セキュリティ ROI の向上**: 数日ではなく数時間でペネトレーションテストを完了
- **コンプライアンス対応**: 監査可能なセキュリティ要件と準拠レポート
- **市場投入時間の短縮**: セキュリティ検証のボトルネックを解消

### 技術面

- **コンテキスト認識**: アプリケーション設計、コード、セキュリティ要件を理解
- **継続的セキュリティ**: 自動スキャンとオンデマンドテストの組み合わせ
- **高度な攻撃シミュレーション**: 静的分析ツールが見逃す脆弱性を発見


## デメリット・制約事項

### 制限事項

- プレビュー段階のため、本番環境での使用には注意が必要
- ペネトレーションテストにはドメイン所有権の確認が必要
- コードレビューは現在 GitHub のみサポート

### 考慮すべき点

- 効果的な利用には適切なセキュリティ要件の定義が重要
- 設計ドキュメントの品質がレビュー結果に影響


## ユースケース

### ユースケース 1: 設計段階でのセキュリティ検証

**シナリオ**: 新機能の設計ドキュメントをセキュリティ観点でレビュー

**実装例**:
```
1. 設計ドキュメントをアップロード
2. AWS Security Agent が組織のセキュリティ要件に対して評価
3. Non-compliant な項目に対する修正ガイダンスを受領
4. 設計を修正し、再レビュー
```

**効果**: コード作成前にセキュリティリスクを特定し、手戻りを削減

### ユースケース 2: プルリクエストの自動セキュリティチェック

**シナリオ**: 開発者がコードをコミットするたびにセキュリティ検証

**実装例**:
```
1. GitHub リポジトリを接続
2. プルリクエスト作成時に自動的にコードレビュー
3. OWASP Top Ten 脆弱性と組織ポリシー違反を検出
4. プルリクエストにコメントとして結果を報告
```

**効果**: セキュリティ問題を開発プロセスの早期に発見

### ユースケース 3: オンデマンドペネトレーションテスト

**シナリオ**: リリース前の包括的なセキュリティテスト

**実装例**:
```
1. ターゲット URL、認証情報、脅威モデルを設定
2. ソースコード、API 仕様をコンテキストとして提供
3. AWS Security Agent が 13 のリスクカテゴリでテスト実行
4. 発見された脆弱性と修正ガイダンスを受領
```

**効果**: 外部ベンダーを待たずに即座にペネトレーションテストを実行


## 料金

プレビュー期間中の料金については、AWS にお問い合わせください。


## 利用可能リージョン

プレビュー期間中の利用可能リージョンについては、AWS Security Agent コンソールを確認してください。


## 関連サービス・機能

- **AWS IAM Identity Center**: ユーザーアクセス管理
- **AWS KMS**: 暗号化キー管理
- **Amazon Inspector**: 脆弱性管理
- **AWS Security Hub**: セキュリティ態勢管理


## 参考リンク

- [公式発表 (What's New)](https://aws.amazon.com/about-aws/whats-new/2025/12/aws-security-agent-preview/)
- [AWS Blog](https://aws.amazon.com/blogs/aws/new-aws-security-agent-secures-applications-proactively-from-design-to-deployment-preview/)
- [AWS Security Agent 製品ページ](https://aws.amazon.com/security-agent)
- [AWS Security Agent ドキュメント](https://docs.aws.amazon.com/securityagent/latest/userguide/)


## まとめ

AWS Security Agent は、アプリケーションセキュリティを設計から本番環境まで自動化するフロンティアエージェントです。コンテキスト認識型のアプローチにより、従来の SAST/DAST ツールでは見逃される脆弱性を発見し、セキュリティ検証のボトルネックを解消します。re:Invent 2025 で発表されたこのサービスは、AppSec チームの能力を大幅に拡張し、セキュアなアプリケーション開発を加速します。

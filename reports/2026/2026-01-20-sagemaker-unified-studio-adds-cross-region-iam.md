# Amazon SageMaker Unified Studio - クロスリージョンサブスクリプション対応

**リリース日**: 2026 年 1 月 20 日
**サービス**: Amazon SageMaker Unified Studio
**機能**: IDC ベースドメインでのクロスリージョンサブスクリプションサポート

## 概要

Amazon SageMaker Unified Studio が、包括的で柔軟なデータアクセスとガバナンスのためのクロスリージョンサブスクリプションをサポートしました。クロスリージョンサポートにより、プロジェクトとは異なる AWS リージョンで公開された AWS Glue テーブルおよびビュー、Amazon Redshift テーブルおよびビューをサブスクライブできます。この機能により、データサイロを解消し、組織全体でより良いコラボレーションを可能にします。手動レプリケーションなしで、任意の AWS リージョンからキュレートされたデータアセットにアクセスできます。

**アップデート前の課題**

- データコンシューマーは、自分のプロジェクトと同じリージョンに公開されたデータアセットにのみアクセスできました
- 異なるリージョンのデータにアクセスするには、手動でデータをレプリケートする必要がありました
- データサイロが発生し、組織全体でのデータコラボレーションが制限されていました

**アップデート後の改善**

- プロジェクトとは異なる AWS リージョンに公開されたデータアセットにサブスクライブできるようになりました
- 手動レプリケーションなしで、任意の AWS リージョンのデータアセットにアクセスできるようになりました
- データサイロを解消し、組織全体でのデータコラボレーションを促進できるようになりました

## サービスアップデートの詳細

### 主要機能

1. **クロスリージョンサブスクリプション**
   - プロジェクトとは異なる AWS リージョンで公開された AWS Glue テーブルおよびビューにサブスクライブできます
   - プロジェクトとは異なる AWS リージョンで公開された Amazon Redshift テーブルおよびビューにサブスクライブできます
   - すべての標準 AWS リージョンでサポートされます

2. **自動データアクセス**
   - AWS Glue アセットの場合、リソースリンクを使用してクロスリージョンアクセスを実現します
   - Amazon Redshift アセットの場合、Redshift のネイティブデータシェア機能を使用します
   - クロスアカウントシナリオでは、AWS Resource Access Manager (AWS RAM) による承認が必要です

3. **SageMaker Unified Studio および DataZone ドメインでのサポート**
   - SageMaker Unified Studio ドメインでサポートされます
   - Amazon DataZone ドメインでもサポートされます

## 技術仕様

### サポートされるデータアセット

| データアセットの種類 | クロスリージョンサポート |
|---------------------|------------------------|
| AWS Glue テーブル | サポート |
| AWS Glue ビュー | サポート |
| Amazon Redshift テーブル | サポート |
| Amazon Redshift ビュー | サポート |

### クロスリージョンアクセスのメカニズム

| データソース | メカニズム |
|--------------|------------|
| AWS Glue | リソースリンク (Resource Links) |
| Amazon Redshift | ネイティブデータシェア (Datashare) |

### 前提条件

1. **DataZone または SageMaker Unified Studio ドメインが存在すること**
   - ドメインが作成されていること
   - ブループリントを管理する権限があること

2. **ソースリージョンとターゲットリージョンでブループリントが有効化されていること**
   - Data Lake ブループリント (AWS Glue の場合)
   - Data Warehouse ブループリント (Amazon Redshift の場合)

3. **クロスアカウント Redshift シェアリングの場合**
   - AWS RAM による承認が必要

## 設定方法

### 手順 (SageMaker Unified Studio ドメインの場合)

#### ステップ 1: ターゲットリージョンでブループリントを有効化

1. SageMaker Unified Studio にログイン
2. ターゲットリージョンでブループリントを有効化:
   - Data Lake ブループリント (AWS Glue の場合)
   - Data Warehouse ブループリント (Amazon Redshift の場合)
   - Tooling ブループリント

#### ステップ 2: プロジェクトプロファイルとプロジェクトの作成

1. ターゲットリージョンでプロジェクトプロファイルを作成
2. プロジェクトを作成

#### ステップ 3: データアセットへのサブスクリプション

1. SageMaker Catalog でデータアセットを検索
2. 異なるリージョンに公開されたデータアセットを選択
3. 「Subscribe」をクリックしてサブスクリプションリクエストを送信
4. データプロデューサーがサブスクリプションを承認

#### ステップ 4: データアセットへのアクセス

1. サブスクリプションが承認されると、データアセットにアクセスできます
2. Query Editor または他のツールを使用してデータをクエリ

### 手順 (Amazon DataZone API の使用)

```python
import boto3

# DataZone クライアントの作成
datazone = boto3.client('datazone', region_name='us-east-1')

# クロスリージョンサブスクリプションの作成
response = datazone.create_subscription_grant(
    domainIdentifier='dzd_123456789012',
    environmentIdentifier='env_123456789012',
    grantedEntity={
        'listing': {
            'identifier': 'listing_123456789012',
            'revision': '1'
        }
    },
    subscriptionTargetIdentifier='target_123456789012'
)

print(f"Subscription Grant ID: {response['id']}")
```

このコードは、DataZone API を使用してクロスリージョンサブスクリプションを作成します。

## メリット

### ビジネス面

- **データサイロの解消**: 組織全体でデータアセットを共有し、コラボレーションを促進します
- **迅速なインサイト**: 手動レプリケーションなしで、任意のリージョンのデータにアクセスできます
- **コスト削減**: データレプリケーションのコストを削減できます

### 技術面

- **柔軟なデータアクセス**: 任意の AWS リージョンからデータアセットにアクセスできます
- **統合されたガバナンス**: SageMaker Unified Studio のガバナンス機能を使用して、クロスリージョンアクセスを管理できます
- **自動化**: リソースリンクまたはデータシェアを使用して、自動的にクロスリージョンアクセスが設定されます

## デメリット・制約事項

### 制限事項

- クロスアカウント Redshift シェアリングの場合、AWS RAM による承認が必要です
- ソースリージョンとターゲットリージョンの両方でブループリントを有効化する必要があります
- すべての標準 AWS リージョンでサポートされますが、一部のオプトインリージョンではサポートされない場合があります

### 考慮すべき点

- クロスリージョンデータ転送料金が発生する場合があります
- ネットワークレイテンシがパフォーマンスに影響を与える可能性があります
- データガバナンスポリシーを適切に設定してください

## ユースケース

### ユースケース 1: グローバルデータ分析

**シナリオ**: グローバル企業が、異なるリージョンで収集されたデータを統合して分析する。

**実装例**:
1. US East リージョンで売上データを公開
2. EU West リージョンで顧客データを公開
3. AP Southeast リージョンのプロジェクトから、両方のデータセットにサブスクライブ
4. 統合されたデータを分析してグローバルインサイトを取得

**効果**: 手動レプリケーションなしで、グローバルデータを統合して分析できます。

### ユースケース 2: データレイクの統合

**シナリオ**: 複数のリージョンにデータレイクが存在し、データサイロが発生している。

**実装例**:
1. 各リージョンのデータレイクで AWS Glue テーブルを公開
2. 中央のリージョンのプロジェクトから、すべてのリージョンのテーブルにサブスクライブ
3. 統合されたビューを作成して、すべてのデータレイクのデータを分析

**効果**: データサイロを解消し、組織全体でデータを統合できます。

### ユースケース 3: クロスリージョン機械学習

**シナリオ**: 機械学習チームが、異なるリージョンのトレーニングデータにアクセスする必要がある。

**実装例**:
1. US East リージョンでトレーニングデータを公開
2. US West リージョンの SageMaker Unified Studio プロジェクトから、データにサブスクライブ
3. US West リージョンで機械学習モデルをトレーニング

**効果**: データレプリケーションなしで、異なるリージョンのデータを使用して機械学習モデルをトレーニングできます。

## 料金

この機能自体に追加料金はかかりません。ただし、以下のサービスの使用に対して料金が発生します。

- Amazon SageMaker Unified Studio の使用料金
- クロスリージョンデータ転送料金
- AWS Glue または Amazon Redshift の使用料金

詳細については、各サービスの料金ページを参照してください。

## 利用可能リージョン

この機能は、Amazon SageMaker Unified Studio をサポートするすべての AWS リージョンで利用可能です。詳細については、[サポートされるリージョン](https://docs.aws.amazon.com/sagemaker-unified-studio/latest/adminguide/supported-regions.html) を参照してください。

## 関連サービス・機能

- **Amazon DataZone**: データカタログとガバナンスを提供するサービス
- **AWS Glue**: データの準備と変換を行う ETL サービス
- **Amazon Redshift**: データウェアハウスサービス
- **AWS Resource Access Manager (AWS RAM)**: AWS リソースを安全に共有するサービス

## 参考リンク

- [公式発表 (What's New)](https://aws.amazon.com/about-aws/whats-new/2026/01/sagemaker-unified-studio-adds-cross-region-iam/)
- [Grant access for approved subscriptions to unmanaged assets ドキュメント](https://docs.aws.amazon.com/sagemaker-unified-studio/latest/userguide/grant-access-to-unmanaged-asset.html)
- [SageMaker Unified Studio User Guide](https://docs.aws.amazon.com/sagemaker-unified-studio/latest/userguide/)

## まとめ

Amazon SageMaker Unified Studio のクロスリージョンサブスクリプション対応により、データサイロを解消し、組織全体でより良いデータコラボレーションを実現できるようになりました。手動レプリケーションなしで、任意の AWS リージョンからキュレートされたデータアセットにアクセスでき、グローバルなデータ分析を効率化できます。複数のリージョンでデータを管理している組織は、この機能を活用してデータ統合とコラボレーションを促進することをお勧めします。

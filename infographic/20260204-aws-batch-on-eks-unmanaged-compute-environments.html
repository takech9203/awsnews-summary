<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AWS Batch - Amazon EKS でのアンマネージドコンピュート環境サポート</title>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      mermaid.initialize({
        startOnLoad: true,
        theme: 'base',
        themeVariables: {
          primaryColor: '#FF9900',
          primaryTextColor: '#232F3E',
          primaryBorderColor: '#FF9900',
          lineColor: '#FF9900',
          secondaryColor: '#F5F5F5',
          tertiaryColor: '#FAFAFA',
          background: '#FFFFFF',
          mainBkg: '#FFF3E0',
          nodeBorder: '#FF9900',
          clusterBkg: '#FFF8E1',
          clusterBorder: '#FF9900',
          edgeLabelBackground: '#FFFFFF',
          textColor: '#232F3E'
        }
      });
    });
  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/styles/atom-one-dark.min.css">
  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/highlight.min.js"></script>
  <script>document.addEventListener('DOMContentLoaded', function() { hljs.highlightAll(); });</script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap');

    :root {
      --aws-squid-ink: #232F3E;
      --aws-dark-squid: #1A242F;
      --aws-orange: #FF9900;
      --aws-smile-orange: #FFAD33;
      --aws-white: #FFFFFF;
      --aws-light-gray: #D5DBDB;
      --aws-teal: #00A1C9;
      --aws-purple: #8C4FFF;
      --aws-green: #1D8102;
      --aws-red: #D13212;
    }

    .mermaid-container {
      background: #FFFFFF;
      border-radius: 12px;
      padding: 24px;
      margin: 20px 0;
      border: 2px solid rgba(255, 153, 0, 0.3);
      overflow-x: auto;
    }
    .mermaid {
      display: flex;
      justify-content: center;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-color: var(--aws-squid-ink);
      font-family: 'Noto Sans JP', 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
      color: var(--aws-light-gray);
      font-size: 16px;
      line-height: 1.6;
      padding: 20px;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      width: 100%;
    }

    /* Header */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 32px;
      flex-wrap: wrap;
      gap: 16px;
    }

    .header-left {
      flex: 1;
    }

    .service-badge {
      display: inline-block;
      background: var(--aws-orange);
      color: var(--aws-squid-ink);
      padding: 6px 16px;
      border-radius: 4px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 12px;
    }

    h1 {
      font-size: 36px;
      font-weight: 700;
      color: var(--aws-white);
      margin-bottom: 8px;
      line-height: 1.3;
    }

    .subtitle {
      font-size: 16px;
      color: var(--aws-light-gray);
    }

    .release-date {
      background: var(--aws-dark-squid);
      padding: 12px 20px;
      border-radius: 8px;
      border: 1px solid rgba(255, 153, 0, 0.3);
      text-align: center;
    }

    .release-date-label {
      font-size: 12px;
      color: var(--aws-light-gray);
      margin-bottom: 4px;
    }

    .release-date-value {
      font-size: 18px;
      font-weight: 600;
      color: var(--aws-orange);
    }

    /* Sections */
    .section {
      background: var(--aws-dark-squid);
      border-radius: 8px;
      padding: 24px;
      margin-bottom: 24px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    h2 {
      font-size: 24px;
      font-weight: 600;
      color: var(--aws-orange);
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Overview */
    .overview-text {
      font-size: 17px;
      line-height: 1.8;
      margin-bottom: 24px;
    }

    .highlight {
      background-color: rgba(255, 153, 0, 0.2);
      padding: 2px 6px;
      border-radius: 4px;
      font-weight: 600;
      color: var(--aws-orange);
    }

    /* Before/After */
    .comparison-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-top: 16px;
    }

    @media (max-width: 600px) {
      .comparison-container {
        grid-template-columns: 1fr;
      }
    }

    .comparison-box {
      padding: 20px;
      border-radius: 8px;
    }

    .before-box {
      background: rgba(209, 50, 18, 0.15);
      border-left: 4px solid var(--aws-red);
    }

    .after-box {
      background: rgba(29, 129, 2, 0.15);
      border-left: 4px solid var(--aws-green);
    }

    .comparison-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .before-box .comparison-title {
      color: var(--aws-red);
    }

    .after-box .comparison-title {
      color: var(--aws-green);
    }

    .comparison-list {
      list-style: none;
    }

    .comparison-list li {
      margin-bottom: 8px;
      padding-left: 20px;
      position: relative;
      font-size: 14px;
    }

    .before-box .comparison-list li::before {
      content: "\2717";
      position: absolute;
      left: 0;
      color: var(--aws-red);
    }

    .after-box .comparison-list li::before {
      content: "\2713";
      position: absolute;
      left: 0;
      color: var(--aws-green);
    }

    /* Flow Diagram */
    .flow-diagram {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
      margin: 24px 0;
      padding: 20px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 8px;
    }

    .flow-step {
      background: var(--aws-dark-squid);
      border: 2px solid var(--aws-orange);
      border-radius: 8px;
      padding: 12px 20px;
      text-align: center;
      min-width: 120px;
    }

    .flow-step-icon {
      font-size: 24px;
      display: block;
      margin-bottom: 4px;
    }

    .flow-step-text {
      font-size: 14px;
      font-weight: 500;
    }

    .flow-arrow {
      color: var(--aws-orange);
      font-size: 24px;
      font-weight: bold;
    }

    /* Feature Cards */
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 16px;
    }

    .feature-card {
      background: var(--aws-squid-ink);
      border-radius: 8px;
      padding: 20px;
      border-left: 4px solid var(--aws-orange);
    }

    .feature-card-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
    }

    .feature-icon {
      font-size: 24px;
    }

    .feature-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--aws-white);
    }

    .feature-description {
      font-size: 14px;
      color: var(--aws-light-gray);
      line-height: 1.6;
    }

    .feature-description ul {
      list-style: none;
      margin-top: 8px;
    }

    .feature-description ul li {
      padding-left: 16px;
      position: relative;
      margin-bottom: 4px;
    }

    .feature-description ul li::before {
      content: "\2192";
      position: absolute;
      left: 0;
      color: var(--aws-orange);
    }

    /* Tech Specs */
    .tech-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 16px;
    }

    @media (max-width: 600px) {
      .tech-grid {
        grid-template-columns: 1fr;
      }
    }

    .tech-box {
      background: var(--aws-squid-ink);
      border-radius: 8px;
      padding: 20px;
    }

    .tech-box-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--aws-teal);
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .tech-list {
      list-style: none;
    }

    .tech-list li {
      padding: 6px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      font-size: 14px;
    }

    .tech-list li:last-child {
      border-bottom: none;
    }

    /* Comparison Table */
    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 16px;
      font-size: 14px;
    }

    .comparison-table th {
      background: rgba(255, 153, 0, 0.2);
      color: var(--aws-orange);
      padding: 12px 16px;
      text-align: left;
      font-weight: 600;
      border-bottom: 2px solid rgba(255, 153, 0, 0.3);
    }

    .comparison-table td {
      padding: 10px 16px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
      color: var(--aws-light-gray);
    }

    .comparison-table tr:hover td {
      background: rgba(255, 255, 255, 0.03);
    }

    /* Use Cases */
    .usecase-card {
      background: linear-gradient(135deg, rgba(255, 153, 0, 0.1) 0%, rgba(255, 173, 51, 0.05) 100%);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 16px;
      border: 1px solid rgba(255, 153, 0, 0.2);
    }

    .usecase-card:last-child {
      margin-bottom: 0;
    }

    .usecase-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
    }

    .usecase-icon {
      font-size: 28px;
    }

    .usecase-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--aws-white);
    }

    .usecase-description {
      font-size: 14px;
      color: var(--aws-light-gray);
      margin-bottom: 12px;
    }

    .usecase-effect {
      font-size: 13px;
      color: var(--aws-green);
      background: rgba(29, 129, 2, 0.15);
      padding: 8px 12px;
      border-radius: 4px;
      display: inline-block;
    }

    /* Code Block */
    .code-block {
      background: #1a1a2e;
      border-radius: 8px;
      overflow: hidden;
      margin: 16px 0;
    }

    .code-header {
      background: #16213e;
      padding: 8px 16px;
      display: flex;
      justify-content: space-between;
      font-size: 12px;
    }

    .code-lang {
      color: var(--aws-orange);
      font-weight: bold;
    }

    .code-title {
      color: var(--aws-light-gray);
    }

    .code-block pre {
      margin: 0;
      padding: 0;
      overflow-x: auto;
    }

    .code-block code {
      font-family: 'Courier New', monospace;
      font-size: 13px;
      line-height: 1.5;
      padding: 16px !important;
    }

    /* Benefits */
    .benefits-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    @media (max-width: 600px) {
      .benefits-grid {
        grid-template-columns: 1fr;
      }
    }

    .benefit-category {
      background: var(--aws-squid-ink);
      border-radius: 8px;
      padding: 20px;
    }

    .benefit-category-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--aws-orange);
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .benefit-item {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 10px;
      font-size: 14px;
    }

    .benefit-item:last-child {
      margin-bottom: 0;
    }

    .benefit-check {
      color: var(--aws-green);
      font-size: 16px;
      flex-shrink: 0;
    }

    /* Limitations */
    .limitation-item {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 10px;
      font-size: 14px;
    }

    .limitation-item:last-child {
      margin-bottom: 0;
    }

    .limitation-icon {
      color: var(--aws-red);
      font-size: 16px;
      flex-shrink: 0;
    }

    .caution-icon {
      color: #FF9800;
      font-size: 16px;
      flex-shrink: 0;
    }

    .limitation-box {
      background: var(--aws-squid-ink);
      border-radius: 8px;
      padding: 20px;
    }

    .limitation-box-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Pricing */
    .pricing-card {
      background: rgba(0, 161, 201, 0.08);
      border: 1px solid rgba(0, 161, 201, 0.25);
      border-radius: 8px;
      padding: 20px;
      margin-top: 16px;
    }

    .pricing-item {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 8px;
      font-size: 14px;
    }

    .pricing-item:last-child {
      margin-bottom: 0;
    }

    .pricing-highlight {
      font-size: 15px;
      font-weight: 600;
      color: var(--aws-teal);
      margin-bottom: 12px;
    }

    /* Region Info */
    .region-info {
      background: rgba(0, 161, 201, 0.1);
      border: 1px solid rgba(0, 161, 201, 0.3);
      border-radius: 8px;
      padding: 16px 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      margin-top: 16px;
    }

    .region-icon {
      font-size: 28px;
    }

    .region-text {
      font-size: 15px;
    }

    /* Steps */
    .setup-steps {
      counter-reset: step-counter;
      margin-top: 16px;
    }

    .setup-step {
      background: var(--aws-squid-ink);
      border-radius: 8px;
      padding: 20px;
      padding-left: 64px;
      margin-bottom: 16px;
      position: relative;
      border-left: 3px solid var(--aws-orange);
    }

    .setup-step::before {
      counter-increment: step-counter;
      content: counter(step-counter);
      position: absolute;
      left: 16px;
      top: 18px;
      background: var(--aws-orange);
      color: var(--aws-squid-ink);
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 16px;
    }

    .setup-step:last-child {
      margin-bottom: 0;
    }

    .step-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--aws-white);
      margin-bottom: 8px;
    }

    .step-description {
      font-size: 14px;
      color: var(--aws-light-gray);
    }

    /* Footer */
    footer {
      margin-top: 32px;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
    }

    .footer-title {
      font-size: 14px;
      color: var(--aws-orange);
      margin-bottom: 12px;
    }

    .footer-links {
      list-style: none;
    }

    .footer-links li {
      margin-bottom: 8px;
    }

    .footer-links a {
      color: var(--aws-teal);
      text-decoration: none;
      font-size: 13px;
      word-break: break-all;
    }

    .footer-links a:hover {
      color: var(--aws-smile-orange);
      text-decoration: underline;
    }

    .footer-note {
      margin-top: 16px;
      font-size: 12px;
      color: rgba(213, 219, 219, 0.6);
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <span class="service-badge">AWS Batch</span>
        <h1>&#9781;&#65039; Amazon EKS での<br>アンマネージドコンピュート環境</h1>
        <p class="subtitle">Unmanaged Compute Environments for Amazon EKS - Kubernetes インフラの完全制御と AWS Batch のジョブオーケストレーションを両立</p>
      </div>
      <div class="release-date">
        <div class="release-date-label">リリース日</div>
        <div class="release-date-value">2026 年 2 月 4 日</div>
      </div>
    </header>

    <!-- Overview Section -->
    <section class="section">
      <h2>&#x1F4CC; 概要</h2>
      <p class="overview-text">
        AWS Batch が Amazon EKS での<span class="highlight">アンマネージドコンピュート環境</span>をサポートするようになりました。この機能により、AWS Batch のジョブスケジューリング機能を活用しながら、セキュリティ、コンプライアンス、または運用上の要件に応じて<span class="highlight">Kubernetes インフラストラクチャを完全に制御</span>できます。既存の EKS クラスターと Kubernetes 名前空間を指定し、kubectl ラベリングで EKS ノードをコンピュート環境に関連付けることで、ML モデルトレーニング、シミュレーション、分析などのバッチ処理ワークロードを効率的に実行できます。
      </p>

      <!-- Flow Diagram -->
      <div class="flow-diagram">
        <div class="flow-step">
          <span class="flow-step-icon">&#x1F4DD;</span>
          <span class="flow-step-text">Batch ジョブ<br>送信</span>
        </div>
        <span class="flow-arrow">&rarr;</span>
        <div class="flow-step">
          <span class="flow-step-icon">&#x1F4CB;</span>
          <span class="flow-step-text">ジョブキュー</span>
        </div>
        <span class="flow-arrow">&rarr;</span>
        <div class="flow-step">
          <span class="flow-step-icon">&#x2699;&#xFE0F;</span>
          <span class="flow-step-text">アンマネージド<br>コンピュート環境</span>
        </div>
        <span class="flow-arrow">&rarr;</span>
        <div class="flow-step">
          <span class="flow-step-icon">&#x2638;&#xFE0F;</span>
          <span class="flow-step-text">EKS ノード<br>で実行</span>
        </div>
      </div>

      <!-- Before/After Comparison -->
      <div class="comparison-container">
        <div class="comparison-box before-box">
          <div class="comparison-title">&#x274C; アップデート前の課題</div>
          <ul class="comparison-list">
            <li>AWS Batch on EKS ではマネージドコンピュート環境のみがサポートされていた</li>
            <li>特定のセキュリティやコンプライアンス要件に対応するためのカスタマイズが制限されていた</li>
            <li>既存の EKS クラスター設定を活用することが困難だった</li>
          </ul>
        </div>
        <div class="comparison-box after-box">
          <div class="comparison-title">&#x2713; アップデート後の改善</div>
          <ul class="comparison-list">
            <li>既存の EKS クラスターとノードを使用して AWS Batch ジョブを実行可能</li>
            <li>Kubernetes インフラストラクチャの完全な制御を維持</li>
            <li>セキュリティ、コンプライアンス、運用要件に対応したカスタム設定が可能</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Architecture Diagram Section -->
    <section class="section">
      <h2>&#x1F3D7;&#xFE0F; アーキテクチャ図</h2>
      <p style="margin-bottom: 16px;">AWS Batch のジョブキューからアンマネージドコンピュート環境を経由して、ラベル付けされた EKS ノードでジョブが実行されます。</p>
      <div class="mermaid-container">
        <pre class="mermaid">
flowchart TD
    subgraph Batch["&#9729;&#65039; AWS Batch"]
        Queue["&#128203; ジョブキュー"]
        CE["&#9881;&#65039; アンマネージド&lt;br/&gt;コンピュート環境"]
    end

    subgraph EKS["&#9784;&#65039; Amazon EKS クラスター"]
        NS["&#128193; Kubernetes&lt;br/&gt;名前空間"]

        subgraph Nodes["&#128421;&#65039; EKS ノード"]
            direction LR
            Node1["&#128230; ノード 1&lt;br/&gt;batch=true"]
            Node2["&#128230; ノード 2&lt;br/&gt;batch=true"]
            Node3["&#128230; ノード 3&lt;br/&gt;batch=true"]
            Node1 ~~~ Node2 ~~~ Node3
        end
    end

    Job["&#128221; Batch ジョブ"] --> Queue
    Queue --> CE
    CE --> NS
    NS --> Nodes

    classDef batch fill:#FFE0B2,stroke:#FF9900,stroke-width:2px,color:#5D4037
    classDef eks fill:#E3F2FD,stroke:#1565C0,stroke-width:2px,color:#1565C0
    classDef node fill:#E8F5E9,stroke:#66BB6A,stroke-width:2px,color:#2E7D32
    classDef job fill:#F3E5F5,stroke:#7B61FF,stroke-width:2px,color:#4A148C

    class Batch,Queue,CE batch
    class EKS,NS eks
    class Nodes,Node1,Node2,Node3 node
    class Job job
        </pre>
      </div>
    </section>

    <!-- Key Features Section -->
    <section class="section">
      <h2>&#x26A1; 主要機能</h2>
      <div class="feature-grid">
        <div class="feature-card">
          <div class="feature-card-header">
            <span class="feature-icon">&#x2638;&#xFE0F;</span>
            <span class="feature-title">既存 EKS クラスターの活用</span>
          </div>
          <p class="feature-description">
            CreateComputeEnvironment API または AWS Batch コンソールでアンマネージドコンピュート環境を作成。既存の EKS クラスターと Kubernetes 名前空間を指定し、kubectl ラベリングでノードを関連付けます。
          </p>
        </div>
        <div class="feature-card">
          <div class="feature-card-header">
            <span class="feature-icon">&#x1F512;</span>
            <span class="feature-title">完全なインフラ制御</span>
          </div>
          <p class="feature-description">
            ノードの設定、スケーリング、セキュリティポリシーを完全に制御。カスタム AMI、インスタンスタイプ、ノードグループ設定を使用でき、既存の Kubernetes セキュリティコンテキストや Pod セキュリティポリシーを維持します。
          </p>
        </div>
        <div class="feature-card">
          <div class="feature-card-header">
            <span class="feature-icon">&#x1F4E6;</span>
            <span class="feature-title">AWS Batch のジョブオーケストレーション</span>
          </div>
          <p class="feature-description">
            ジョブキュー、ジョブ定義、依存関係管理などの AWS Batch 機能をフル活用。スケジューリング、リトライ、タイムアウトなどのジョブライフサイクル管理と CloudWatch 統合によるモニタリングを提供します。
          </p>
        </div>
      </div>
    </section>

    <!-- Technical Specs: Managed vs Unmanaged -->
    <section class="section">
      <h2>&#x1F50D; 技術仕様: マネージド vs アンマネージド比較</h2>
      <table class="comparison-table">
        <thead>
          <tr>
            <th>項目</th>
            <th>マネージド</th>
            <th>アンマネージド</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>ノード管理</strong></td>
            <td>AWS Batch が管理</td>
            <td>ユーザーが管理</td>
          </tr>
          <tr>
            <td><strong>スケーリング</strong></td>
            <td>自動</td>
            <td>ユーザーが設定</td>
          </tr>
          <tr>
            <td><strong>カスタマイズ</strong></td>
            <td>制限あり</td>
            <td>完全に可能</td>
          </tr>
          <tr>
            <td><strong>セットアップ</strong></td>
            <td>シンプル</td>
            <td>より詳細な設定が必要</td>
          </tr>
          <tr>
            <td><strong>ユースケース</strong></td>
            <td>一般的なバッチ処理</td>
            <td>特殊な要件があるワークロード</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Setup Steps -->
    <section class="section">
      <h2>&#x1F6E0;&#xFE0F; 設定手順</h2>
      <p style="margin-bottom: 8px;"><strong>前提条件:</strong> Amazon EKS クラスター、AWS Batch サービスロール、kubectl アクセス</p>
      <div class="setup-steps">
        <div class="setup-step">
          <div class="step-title">EKS クラスターの準備</div>
          <div class="step-description">既存の EKS クラスターを使用するか、新しいクラスターを作成します。</div>
          <div class="code-block" style="margin-top: 12px;">
            <div class="code-header">
              <span class="code-lang">Bash</span>
              <span class="code-title">クラスターの確認</span>
            </div>
            <pre><code class="language-bash">aws eks describe-cluster --name my-cluster</code></pre>
          </div>
        </div>
        <div class="setup-step">
          <div class="step-title">アンマネージドコンピュート環境の作成</div>
          <div class="step-description">AWS Batch コンソールまたは API でアンマネージドコンピュート環境を作成します。</div>
          <div class="code-block" style="margin-top: 12px;">
            <div class="code-header">
              <span class="code-lang">Bash</span>
              <span class="code-title">コンピュート環境の作成</span>
            </div>
            <pre><code class="language-bash">aws batch create-compute-environment \
    --compute-environment-name my-unmanaged-eks \
    --type UNMANAGED \
    --state ENABLED \
    --eks-configuration '{
        "eksClusterArn": "arn:aws:eks:us-east-1:123456789012:cluster/my-cluster",
        "kubernetesNamespace": "batch-namespace"
    }'</code></pre>
          </div>
        </div>
        <div class="setup-step">
          <div class="step-title">ノードのラベリング</div>
          <div class="step-description">kubectl を使用して、バッチジョブを実行する EKS ノードにラベルを付与します。</div>
          <div class="code-block" style="margin-top: 12px;">
            <div class="code-header">
              <span class="code-lang">Bash</span>
              <span class="code-title">ノードへのラベル付与</span>
            </div>
            <pre><code class="language-bash">kubectl label nodes my-node-1 batch.amazonaws.com/compute-environment=my-unmanaged-eks
kubectl label nodes my-node-2 batch.amazonaws.com/compute-environment=my-unmanaged-eks</code></pre>
          </div>
        </div>
        <div class="setup-step">
          <div class="step-title">ジョブキューの作成とジョブの実行</div>
          <div class="step-description">ジョブキューを作成し、ジョブを送信します。</div>
          <div class="code-block" style="margin-top: 12px;">
            <div class="code-header">
              <span class="code-lang">Bash</span>
              <span class="code-title">ジョブキュー作成とジョブ送信</span>
            </div>
            <pre><code class="language-bash"># ジョブキューを作成
aws batch create-job-queue \
    --job-queue-name my-eks-queue \
    --priority 1 \
    --compute-environment-order '[{"order":1,"computeEnvironment":"my-unmanaged-eks"}]'

# ジョブを送信
aws batch submit-job \
    --job-name my-ml-job \
    --job-queue my-eks-queue \
    --job-definition my-eks-job</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- Job Definition Example -->
    <section class="section">
      <h2>&#x1F4DD; ジョブ定義例</h2>
      <p style="margin-bottom: 12px;">EKS 上で GPU を利用した ML トレーニングジョブを定義する例です。</p>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">JSON</span>
          <span class="code-title">EKS ジョブ定義</span>
        </div>
        <pre><code class="language-json">{
  "jobDefinitionName": "my-eks-job",
  "type": "container",
  "eksProperties": {
    "podProperties": {
      "containers": [
        {
          "image": "my-ml-image:latest",
          "command": ["python", "train.py"],
          "resources": {
            "limits": {
              "cpu": "4",
              "memory": "8Gi",
              "nvidia.com/gpu": "1"
            }
          }
        }
      ]
    }
  }
}</code></pre>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="section">
      <h2>&#x1F4A1; ユースケース</h2>

      <div class="usecase-card">
        <div class="usecase-header">
          <span class="usecase-icon">&#x1F9E0;</span>
          <span class="usecase-title">ML モデルトレーニング</span>
        </div>
        <p class="usecase-description">
          特定のセキュリティ要件を持つ ML トレーニングジョブを既存の GPU ノードで実行したいケースに最適です。GPU ノードにラベルを付与し、AWS Batch のジョブ管理機能を活用してトレーニングジョブを効率的にスケジューリングします。
        </p>
        <span class="usecase-effect">&#x2713; 既存の GPU インフラを活用しながら、AWS Batch のジョブ管理機能を利用</span>
      </div>

      <div class="usecase-card">
        <div class="usecase-header">
          <span class="usecase-icon">&#x1F4B0;</span>
          <span class="usecase-title">金融シミュレーション</span>
        </div>
        <p class="usecase-description">
          コンプライアンス要件を満たすカスタム設定のノードで大規模シミュレーションを実行するケースです。コンプライアンス準拠のノードグループにラベルを付与し、セキュリティ要件を維持しながらバッチ処理を実行します。
        </p>
        <span class="usecase-effect">&#x2713; セキュリティ要件を満たしながら、効率的なバッチ処理を実現</span>
      </div>

      <div class="usecase-card">
        <div class="usecase-header">
          <span class="usecase-icon">&#x1F52C;</span>
          <span class="usecase-title">科学計算</span>
        </div>
        <p class="usecase-description">
          高性能コンピューティング (HPC) ワークロードを既存の EKS クラスターで実行するケースです。HPC 最適化ノードにラベルを付与し、専用ノードで科学計算ジョブを効率的に実行します。
        </p>
        <span class="usecase-effect">&#x2713; 専用の HPC ノードで科学計算ジョブを効率的に実行</span>
      </div>
    </section>

    <!-- Benefits Section -->
    <section class="section">
      <h2>&#x1F3AF; メリット</h2>
      <div class="benefits-grid">
        <div class="benefit-category">
          <div class="benefit-category-title">&#x1F4BC; ビジネス面</div>
          <div class="benefit-item">
            <span class="benefit-check">&#x2713;</span>
            <span><strong>柔軟性</strong>: 既存の EKS インフラを活用し、投資を最大化</span>
          </div>
          <div class="benefit-item">
            <span class="benefit-check">&#x2713;</span>
            <span><strong>コンプライアンス対応</strong>: 特定のセキュリティ要件やコンプライアンス要件に対応可能</span>
          </div>
          <div class="benefit-item">
            <span class="benefit-check">&#x2713;</span>
            <span><strong>コスト最適化</strong>: 既存のノードを共有利用してコストを削減</span>
          </div>
        </div>
        <div class="benefit-category">
          <div class="benefit-category-title">&#x2699;&#xFE0F; 技術面</div>
          <div class="benefit-item">
            <span class="benefit-check">&#x2713;</span>
            <span><strong>完全な制御</strong>: ノード設定、セキュリティ、ネットワークを完全に制御</span>
          </div>
          <div class="benefit-item">
            <span class="benefit-check">&#x2713;</span>
            <span><strong>AWS Batch の機能</strong>: ジョブスケジューリング、依存関係管理、リトライなどをフル活用</span>
          </div>
          <div class="benefit-item">
            <span class="benefit-check">&#x2713;</span>
            <span><strong>既存ツールとの統合</strong>: 既存の Kubernetes ツールやプロセスを継続使用</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Limitations Section -->
    <section class="section">
      <h2>&#x26A0;&#xFE0F; 制限事項と考慮点</h2>
      <div class="benefits-grid">
        <div class="limitation-box">
          <div class="limitation-box-title" style="color: var(--aws-red);">&#x1F6AB; 制限事項</div>
          <div class="limitation-item">
            <span class="limitation-icon">&#x25CF;</span>
            <span>ノードの管理とスケーリングはユーザーの責任</span>
          </div>
          <div class="limitation-item">
            <span class="limitation-icon">&#x25CF;</span>
            <span>マネージドコンピュート環境と比較してセットアップが複雑</span>
          </div>
          <div class="limitation-item">
            <span class="limitation-icon">&#x25CF;</span>
            <span>ノードのラベリングを適切に管理する必要がある</span>
          </div>
        </div>
        <div class="limitation-box">
          <div class="limitation-box-title" style="color: #FF9800;">&#x1F4DD; 考慮すべき点</div>
          <div class="limitation-item">
            <span class="caution-icon">&#x25CF;</span>
            <span>ノードの可用性とキャパシティをモニタリング</span>
          </div>
          <div class="limitation-item">
            <span class="caution-icon">&#x25CF;</span>
            <span>ラベルの一貫性を維持</span>
          </div>
          <div class="limitation-item">
            <span class="caution-icon">&#x25CF;</span>
            <span>適切なリソース制限を設定</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Pricing Section -->
    <section class="section">
      <h2>&#x1F4B3; 料金情報</h2>
      <div class="pricing-highlight">AWS Batch 自体に追加料金はありません</div>
      <div class="pricing-card">
        <p style="margin-bottom: 12px; font-size: 14px;">以下のリソースに対して標準料金が適用されます。</p>
        <div class="pricing-item">
          <span style="color: var(--aws-orange);">&#x25B6;</span>
          <span><strong>Amazon EKS</strong>: クラスター時間に基づく料金</span>
        </div>
        <div class="pricing-item">
          <span style="color: var(--aws-orange);">&#x25B6;</span>
          <span><strong>EC2</strong>: ノードのインスタンス時間に基づく料金</span>
        </div>
        <div class="pricing-item">
          <span style="color: var(--aws-orange);">&#x25B6;</span>
          <span><strong>データ転送</strong>: リージョン間転送などの標準料金</span>
        </div>
      </div>

      <!-- Region Info -->
      <div class="region-info">
        <span class="region-icon">&#x1F30D;</span>
        <span class="region-text">AWS Batch が利用可能なすべての AWS リージョンで利用可能</span>
      </div>
    </section>

    <!-- Related Services -->
    <section class="section">
      <h2>&#x1F517; 関連サービス</h2>
      <div class="feature-grid">
        <div class="feature-card">
          <div class="feature-card-header">
            <span class="feature-icon">&#x1F4E6;</span>
            <span class="feature-title">AWS Batch マネージドコンピュート環境</span>
          </div>
          <p class="feature-description">自動スケーリングが必要な場合に推奨</p>
        </div>
        <div class="feature-card">
          <div class="feature-card-header">
            <span class="feature-icon">&#x2638;&#xFE0F;</span>
            <span class="feature-title">Amazon EKS</span>
          </div>
          <p class="feature-description">Kubernetes クラスター管理</p>
        </div>
        <div class="feature-card">
          <div class="feature-card-header">
            <span class="feature-icon">&#x1F4C8;</span>
            <span class="feature-title">Amazon EC2 Auto Scaling</span>
          </div>
          <p class="feature-description">ノードのスケーリング管理</p>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="footer-title">&#x1F4CE; 参考リンク</div>
      <ul class="footer-links">
        <li>&#x1F4F0; <a href="https://aws.amazon.com/about-aws/whats-new/2026/02/aws-batch-on-eks-unmanaged-compute-environments" target="_blank" rel="noopener noreferrer">公式発表 (What's New)</a></li>
        <li>&#x1F4DA; <a href="https://docs.aws.amazon.com/batch/latest/userguide/create-compute-environment-unmanaged-eks.html" target="_blank" rel="noopener noreferrer">AWS Batch ユーザーガイド - アンマネージド EKS コンピュート環境</a></li>
        <li>&#x1F4CA; <a href="https://takech9203.github.io/awsnews-summary/20260204-aws-batch-on-eks-unmanaged-compute-environments.html" target="_blank" rel="noopener noreferrer">このインフォグラフィック</a></li>
      </ul>
      <p class="footer-note">Generated: 2026-02-13 | Source: AWS News Report</p>
    </footer>
  </div>
</body>
</html>

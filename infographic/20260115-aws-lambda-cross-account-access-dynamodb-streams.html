<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Lambda - DynamoDB Streams ã‚¯ãƒ­ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ã‚¯ã‚»ã‚¹</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --aws-squid-ink: #232F3E;
            --aws-dark-squid: #1A242F;
            --aws-orange: #FF9900;
            --aws-smile-orange: #FFAD33;
            --aws-white: #FFFFFF;
            --aws-light-gray: #D5DBDB;
            --aws-teal: #00A1C9;
            --aws-purple: #8C4FFF;
            --aws-green: #1D8102;
            --aws-red: #D13212;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: var(--aws-squid-ink);
            color: var(--aws-light-gray);
            line-height: 1.8;
            padding: 40px 20px;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 24px;
            background: linear-gradient(135deg, var(--aws-dark-squid) 0%, var(--aws-squid-ink) 100%);
            border-radius: 12px;
            border: 3px solid var(--aws-orange);
        }
        .service-badge {
            display: inline-block;
            background: var(--aws-orange);
            color: var(--aws-squid-ink);
            padding: 8px 24px;
            border-radius: 24px;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 16px;
        }
        .header h1 {
            font-size: 30px;
            font-weight: 700;
            color: var(--aws-white);
            margin-bottom: 12px;
            line-height: 1.4;
        }
        .header .subtitle { font-size: 16px; color: var(--aws-light-gray); }
        .release-date { font-size: 14px; color: var(--aws-orange); margin-top: 16px; font-weight: 600; }
        .section {
            background: var(--aws-dark-squid);
            padding: 24px;
            border-radius: 8px;
            margin-bottom: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .section h2 {
            font-size: 22px;
            font-weight: 600;
            color: var(--aws-orange);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        @media (max-width: 768px) { .comparison { grid-template-columns: 1fr; } }
        .comparison-card {
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid;
        }
        .comparison-card.before { background: rgba(209, 50, 18, 0.15); border-left-color: var(--aws-red); }
        .comparison-card.after { background: rgba(29, 129, 2, 0.15); border-left-color: var(--aws-green); }
        .comparison-card h4 { font-size: 16px; margin-bottom: 12px; font-weight: 600; }
        .comparison-card.before h4 { color: var(--aws-red); }
        .comparison-card.after h4 { color: var(--aws-green); }
        .comparison-card ul { list-style: none; padding-left: 0; }
        .comparison-card li { margin-bottom: 8px; padding-left: 20px; position: relative; font-size: 14px; line-height: 1.6; }
        .comparison-card.before li::before { content: "âœ•"; position: absolute; left: 0; color: var(--aws-red); font-weight: bold; }
        .comparison-card.after li::before { content: "âœ“"; position: absolute; left: 0; color: var(--aws-green); font-weight: bold; }
        .card {
            background: var(--aws-dark-squid);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid rgba(255, 153, 0, 0.3);
            margin-bottom: 16px;
        }
        .card h3 { font-size: 18px; color: var(--aws-orange); margin-bottom: 8px; display: flex; align-items: center; gap: 10px; }
        .card p { font-size: 15px; color: var(--aws-light-gray); }
        .architecture-diagram {
            background: #FFFFFF;
            padding: 24px;
            border-radius: 8px;
            margin-top: 16px;
        }
        .usecase {
            background: linear-gradient(135deg, rgba(255, 153, 0, 0.15) 0%, rgba(255, 153, 0, 0.05) 100%);
            padding: 20px;
            border-radius: 8px;
            border: 2px solid rgba(255, 153, 0, 0.3);
            margin-bottom: 16px;
        }
        .usecase h3 { font-size: 18px; color: var(--aws-orange); margin-bottom: 8px; }
        .usecase p { font-size: 15px; color: #EEEEEE; }
        .highlight {
            background: rgba(255, 153, 0, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
            color: var(--aws-orange);
        }
        a { color: var(--aws-teal); text-decoration: none; }
        a:hover { color: var(--aws-smile-orange); text-decoration: underline; }
        footer {
            margin-top: 32px;
            padding: 24px;
            background: var(--aws-dark-squid);
            border-radius: 8px;
            border-top: 3px solid var(--aws-orange);
        }
        footer h3 { font-size: 18px; color: var(--aws-orange); margin-bottom: 16px; }
        footer a { display: block; margin-bottom: 10px; padding: 8px 12px; background: rgba(255, 153, 0, 0.1); border-radius: 6px; }
        .footer-note { margin-top: 16px; padding-top: 16px; border-top: 1px solid #333; font-size: 12px; color: #888; }
        .code-block {
            background: var(--aws-dark-squid);
            border: 1px solid rgba(255, 153, 0, 0.2);
            border-radius: 8px;
            padding: 16px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            color: var(--aws-light-gray);
            margin-top: 16px;
        }
        .mermaid-container {
            background: #FFFFFF;
            border-radius: 12px;
            padding: 24px;
            margin: 20px 0;
            border: 2px solid rgba(255, 153, 0, 0.3);
            overflow-x: auto;
        }
        .mermaid {
            display: flex;
            justify-content: center;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                primaryColor: '#FF9900',
                primaryTextColor: '#232F3E',
                primaryBorderColor: '#FF9900',
                lineColor: '#FF9900',
                secondaryColor: '#F5F5F5',
                tertiaryColor: '#FAFAFA',
                background: '#FFFFFF',
                mainBkg: '#FFF3E0',
                nodeBorder: '#FF9900',
                clusterBkg: '#FFF8E1',
                clusterBorder: '#FF9900',
                edgeLabelBackground: '#FFFFFF',
                textColor: '#232F3E'
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="service-badge">AWS Lambda + DynamoDB</div>
            <h1>ğŸ”— DynamoDB Streams<br>ã‚¯ãƒ­ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ã‚¯ã‚»ã‚¹</h1>
            <div class="subtitle">ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆç’°å¢ƒã§ã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•å‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ç°¡ç´ åŒ–</div>
            <div class="release-date">ğŸ“… ãƒªãƒªãƒ¼ã‚¹æ—¥: 2026å¹´01æœˆ15æ—¥</div>
        </div>

        <div class="section">
            <h2>ğŸ“Š æ¦‚è¦</h2>
            <p>AWS Lambda ãŒ DynamoDB Streams ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚° (ESM) ã§<span class="highlight">ã‚¯ãƒ­ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ã‚¯ã‚»ã‚¹</span>ã‚’ã‚µãƒãƒ¼ãƒˆã€‚ã‚ã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® DynamoDB Streams ã‹ã‚‰åˆ¥ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® Lambda é–¢æ•°ã‚’ãƒˆãƒªã‚¬ãƒ¼ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãŒä¸è¦ã«ãªã‚Šã¾ã—ãŸã€‚</p>
            <div class="comparison">
                <div class="comparison-card before">
                    <h4>âš ï¸ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå‰ã®èª²é¡Œ</h4>
                    <ul>
                        <li>è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¿…è¦</li>
                        <li>å„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ãƒˆ</li>
                        <li>é‹ç”¨ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒå¢—å¤§</li>
                        <li>ãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§ã‚„ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã®å•é¡Œ</li>
                    </ul>
                </div>
                <div class="comparison-card after">
                    <h4>âœ¨ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå¾Œã®æ”¹å–„</h4>
                    <ul>
                        <li>ãƒªã‚½ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹ãƒãƒªã‚·ãƒ¼ã§ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹</li>
                        <li>ãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä¸è¦</li>
                        <li>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒå¤§å¹…ã«ç°¡ç´ åŒ–</li>
                        <li>ãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§ã‚’ç¶­æŒã€ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·å‰Šæ¸›</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦</h2>
            <p>ãƒªã‚½ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹ãƒãƒªã‚·ãƒ¼ã«ã‚ˆã‚Šã€è¤‡æ•°ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‹ã‚‰åŒã˜ DynamoDB Stream ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚</p>
            <div class="mermaid-container">
                <pre class="mermaid">
flowchart LR
    subgraph AccountA["ğŸ¢ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ A (ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹)"]
        DDB[("ğŸ“‹ DynamoDB<br/>ãƒ†ãƒ¼ãƒ–ãƒ«")]
        Stream["ğŸ“¡ DynamoDB Streams"]
        Policy["ğŸ“œ ãƒªã‚½ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹<br/>ãƒãƒªã‚·ãƒ¼"]
        DDB --> Stream
        Stream --> Policy
    end
    
    subgraph AccountB["ğŸ¢ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ B"]
        LambdaB["âš¡ Lambda é–¢æ•°"]
    end
    
    subgraph AccountC["ğŸ¢ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ C (é›†ç´„)"]
        LambdaC["âš¡ Lambda é–¢æ•°<br/>(é›†ç´„å‡¦ç†)"]
    end
    
    Policy -.->|"ğŸ”— ã‚¯ãƒ­ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ<br/>ã‚¢ã‚¯ã‚»ã‚¹"| LambdaB
    Policy -.->|"ğŸ”— ã‚¯ãƒ­ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ<br/>ã‚¢ã‚¯ã‚»ã‚¹"| LambdaC
                </pre>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ¯ ä¸»è¦æ©Ÿèƒ½</h2>
            <div class="card">
                <h3>ğŸ“œ ãƒªã‚½ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹ãƒãƒªã‚·ãƒ¼</h3>
                <p>DynamoDB Stream ã«ãƒªã‚½ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹ãƒãƒªã‚·ãƒ¼ã‚’è¨­å®šã™ã‚‹ã ã‘ã§ã€åˆ¥ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® Lambda é–¢æ•°ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«ã€‚è¤‡é›‘ãªè¨­å®šã¯ä¸è¦ã§ã™ã€‚</p>
            </div>
            <div class="card">
                <h3>ğŸ”— ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚° (ESM)</h3>
                <p>Lambda ã®å®Œå…¨ãƒãƒãƒ¼ã‚¸ãƒ‰å‹ ESM ã‚’ä½¿ç”¨ã—ã¦ã€DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ã®å¤‰æ›´ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒãƒ¼ãƒªãƒ³ã‚°ã—ã€Lambda é–¢æ•°ã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¾ã™ã€‚</p>
            </div>
            <div class="card">
                <h3>ğŸ¢ ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¯¾å¿œ</h3>
                <p>è¤‡æ•°ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‹ã‚‰åŒã˜ DynamoDB Stream ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã€‚ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã®é›†ç´„ã‚„ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã®ã‚¤ãƒ™ãƒ³ãƒˆå…±æœ‰ãŒå®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚</p>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ’¡ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹</h2>
            <div class="usecase">
                <h3>ğŸ­ ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã®é›†ç´„</h3>
                <p>è¤‡æ•°ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã€ã‚»ãƒ³ãƒˆãƒ©ãƒ«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® Lambda é–¢æ•°ã§é›†ç´„å‡¦ç†ã€‚ãƒ‡ãƒ¼ã‚¿åˆ†æã‚„ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆã«æœ€é©ã§ã™ã€‚</p>
            </div>
            <div class="usecase">
                <h3>ğŸ¤ ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã®ã‚¤ãƒ™ãƒ³ãƒˆå…±æœ‰</h3>
                <p>ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãƒãƒ¼ãƒ ã‚„ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã¨ DynamoDB ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å…±æœ‰ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãªã—ã§ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’é…ä¿¡ã§ãã¾ã™ã€‚</p>
            </div>
            <div class="usecase">
                <h3>ğŸ”§ ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h3>
                <p>ç•°ãªã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§é‹ç”¨ã•ã‚Œã‚‹ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹é–“ã§ã‚¤ãƒ™ãƒ³ãƒˆã‚’å…±æœ‰ã€‚ã‚µãƒ¼ãƒ“ã‚¹é–“ã®ç–çµåˆã‚’ç¶­æŒã—ãªãŒã‚‰ã€ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•å‹ã®é€£æºã‚’å®Ÿç¾ã—ã¾ã™ã€‚</p>
            </div>
        </div>

        <div class="section">
            <h2>âš™ï¸ è¨­å®šä¾‹</h2>
            <p>ãƒªã‚½ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹ãƒãƒªã‚·ãƒ¼ã®è¨­å®šä¾‹:</p>
            <div class="code-block">
{
  "Version": "2012-10-17",
  "Statement": [{
    "Sid": "AllowCrossAccountAccess",
    "Effect": "Allow",
    "Principal": {
      "AWS": "arn:aws:iam::ACCOUNT_B:root"
    },
    "Action": [
      "dynamodb:GetRecords",
      "dynamodb:GetShardIterator",
      "dynamodb:DescribeStream"
    ],
    "Resource": "arn:aws:dynamodb:*:ACCOUNT_A:table/*/stream/*"
  }]
}
            </div>
        </div>

        <footer>
            <h3>ğŸ“ å‡ºå…¸ãƒ»å‚è€ƒãƒªãƒ³ã‚¯</h3>
            <a href="https://aws.amazon.com/about-aws/whats-new/2026/01/aws-lambda-cross-account-access-dynamodb-streams/" target="_blank">ğŸ”— å…¬å¼ç™ºè¡¨ (What's New)</a>
            <a href="https://docs.aws.amazon.com/lambda/latest/dg/services-dynamodb-eventsourcemapping.html" target="_blank">ğŸ“– Lambda ESM ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>
            <a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/access-control-resource-based.html" target="_blank">ğŸ“– DynamoDB ãƒªã‚½ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹ãƒãƒªã‚·ãƒ¼</a>
            <p class="footer-note">ğŸ¤– Generated with Kiro | ğŸ“… 2026-02-05</p>
        </footer>
    </div>
</body>
</html>
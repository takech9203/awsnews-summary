<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS STS - ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å›ºæœ‰ã‚¯ãƒ¬ãƒ¼ãƒ ã®æ¤œè¨¼ã‚µãƒãƒ¼ãƒˆ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/styles/atom-one-dark.min.css">
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <style>
        :root {
            --aws-squid-ink: #232F3E;
            --aws-dark-squid: #1A242F;
            --aws-orange: #FF9900;
            --aws-smile-orange: #FFAD33;
            --aws-white: #FFFFFF;
            --aws-light-gray: #D5DBDB;
            --aws-teal: #00A1C9;
            --aws-purple: #8C4FFF;
            --aws-green: #1D8102;
            --aws-red: #D13212;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Noto Sans JP', 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            background: var(--aws-squid-ink);
            color: var(--aws-light-gray);
            line-height: 1.8;
            padding: 40px 20px;
        }
        .container { max-width: 1000px; margin: 0 auto; }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 24px;
            background: linear-gradient(135deg, var(--aws-dark-squid) 0%, var(--aws-squid-ink) 100%);
            border-radius: 12px;
            border: 3px solid var(--aws-orange);
        }
        .service-badge {
            display: inline-block;
            background: var(--aws-orange);
            color: var(--aws-squid-ink);
            padding: 8px 24px;
            border-radius: 24px;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 16px;
        }
        .header h1 {
            font-size: 32px;
            font-weight: 700;
            color: var(--aws-white);
            margin-bottom: 12px;
            line-height: 1.4;
        }
        .header .subtitle { font-size: 16px; color: var(--aws-light-gray); line-height: 1.7; }
        .release-date {
            font-size: 14px;
            color: var(--aws-orange);
            margin-top: 16px;
            font-weight: 600;
        }

        /* Sections */
        .section {
            background: var(--aws-dark-squid);
            padding: 24px;
            border-radius: 8px;
            margin-bottom: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .section h2 {
            font-size: 22px;
            font-weight: 600;
            color: var(--aws-orange);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Before/After Comparison */
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        @media (max-width: 768px) { .comparison { grid-template-columns: 1fr; } }
        .comparison-card {
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid;
        }
        .comparison-card.before {
            background: rgba(209, 50, 18, 0.15);
            border-left-color: var(--aws-red);
        }
        .comparison-card.after {
            background: rgba(29, 129, 2, 0.15);
            border-left-color: var(--aws-green);
        }
        .comparison-card h4 { font-size: 16px; margin-bottom: 12px; font-weight: 600; }
        .comparison-card.before h4 { color: var(--aws-red); }
        .comparison-card.after h4 { color: var(--aws-green); }
        .comparison-card ul { list-style: none; padding-left: 0; }
        .comparison-card li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
            font-size: 14px;
            line-height: 1.6;
        }
        .comparison-card.before li::before { content: "\2715"; position: absolute; left: 0; color: var(--aws-red); font-weight: bold; }
        .comparison-card.after li::before { content: "\2713"; position: absolute; left: 0; color: var(--aws-green); font-weight: bold; }

        /* Cards */
        .card {
            background: var(--aws-dark-squid);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid rgba(255, 153, 0, 0.3);
            margin-bottom: 16px;
        }
        .card h3 {
            font-size: 18px;
            color: var(--aws-orange);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .card p { font-size: 15px; color: var(--aws-light-gray); }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-top: 16px;
        }
        @media (max-width: 768px) { .stats-grid { grid-template-columns: repeat(2, 1fr); } }
        .stats-card {
            background: linear-gradient(135deg, var(--aws-orange) 0%, #FF6B00 100%);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            color: var(--aws-white);
        }
        .stats-card .number { font-size: 26px; font-weight: bold; line-height: 1; }
        .stats-card .label { font-size: 13px; margin-top: 8px; }

        /* Use Case */
        .usecase {
            background: linear-gradient(135deg, rgba(255, 153, 0, 0.15) 0%, rgba(255, 153, 0, 0.05) 100%);
            padding: 20px;
            border-radius: 8px;
            border: 2px solid rgba(255, 153, 0, 0.3);
            margin-bottom: 16px;
        }
        .usecase h3 { font-size: 18px; color: var(--aws-orange); margin-bottom: 8px; }
        .usecase p { font-size: 15px; color: #EEEEEE; }

        /* Highlight */
        .highlight {
            background: rgba(255, 153, 0, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
            color: var(--aws-orange);
        }

        /* Links */
        a { color: var(--aws-teal); text-decoration: none; }
        a:hover { color: var(--aws-smile-orange); text-decoration: underline; }

        /* Mermaid */
        .mermaid-container {
            background: #FFFFFF;
            border-radius: 12px;
            padding: 24px;
            margin: 20px 0;
            border: 2px solid rgba(255, 153, 0, 0.3);
            overflow-x: auto;
        }
        .mermaid {
            display: flex;
            justify-content: center;
        }

        /* Table */
        .spec-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 16px;
            font-size: 14px;
        }
        .spec-table th {
            background: rgba(255, 153, 0, 0.2);
            color: var(--aws-orange);
            padding: 12px 16px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid var(--aws-orange);
        }
        .spec-table td {
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--aws-light-gray);
        }
        .spec-table tr:hover td {
            background: rgba(255, 153, 0, 0.05);
        }
        .spec-table code {
            background: rgba(255, 153, 0, 0.15);
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 12px;
            color: var(--aws-smile-orange);
            font-family: 'Courier New', monospace;
        }

        /* Code Block */
        .code-block {
            background: #1a1a2e;
            border-radius: 8px;
            overflow: hidden;
            margin: 16px 0;
        }
        .code-header {
            background: #16213e;
            padding: 8px 16px;
            display: flex;
            justify-content: space-between;
            font-size: 12px;
        }
        .code-lang {
            color: var(--aws-orange);
            font-weight: bold;
        }
        .code-title {
            color: var(--aws-light-gray);
        }
        .code-block pre {
            margin: 0;
            padding: 0;
            overflow-x: auto;
        }
        .code-block code {
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
            padding: 16px !important;
        }

        /* Flow Diagram */
        .flow-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
            margin: 24px 0;
        }
        .flow-step {
            background: var(--aws-dark-squid);
            border: 2px solid var(--aws-orange);
            border-radius: 8px;
            padding: 12px 20px;
            text-align: center;
            min-width: 120px;
        }
        .flow-arrow { color: var(--aws-orange); font-size: 24px; font-weight: bold; }

        /* Provider Grid */
        .provider-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-top: 16px;
        }
        @media (max-width: 768px) { .provider-grid { grid-template-columns: 1fr; } }
        .provider-card {
            background: rgba(0, 161, 201, 0.1);
            border: 2px solid var(--aws-teal);
            border-radius: 8px;
            padding: 16px;
        }
        .provider-card h4 {
            color: var(--aws-teal);
            font-size: 16px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .provider-card p {
            font-size: 14px;
            color: var(--aws-light-gray);
        }
        .provider-card .claims {
            margin-top: 8px;
            font-size: 13px;
        }
        .provider-card .claims code {
            background: rgba(255, 153, 0, 0.15);
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 12px;
            color: var(--aws-smile-orange);
            font-family: 'Courier New', monospace;
        }

        /* Limitation */
        .limitation-list {
            list-style: none;
            padding-left: 0;
        }
        .limitation-list li {
            padding: 8px 0 8px 24px;
            position: relative;
            font-size: 14px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        .limitation-list li::before {
            position: absolute;
            left: 0;
            font-weight: bold;
        }
        .limitation-list.warn li::before {
            content: "\26A0";
            color: var(--aws-orange);
        }
        .limitation-list.note li::before {
            content: "\1F4DD";
        }

        /* Pricing Badge */
        .pricing-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--aws-green), #2ecc71);
            color: var(--aws-white);
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 700;
            margin-top: 8px;
        }

        /* Region Badge */
        .region-badge {
            display: inline-block;
            background: rgba(0, 161, 201, 0.15);
            border: 2px solid var(--aws-teal);
            color: var(--aws-teal);
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            margin-top: 8px;
        }

        /* Related Services */
        .related-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-top: 16px;
        }
        @media (max-width: 768px) { .related-grid { grid-template-columns: 1fr; } }
        .related-card {
            background: rgba(140, 79, 255, 0.1);
            border: 1px solid rgba(140, 79, 255, 0.3);
            border-radius: 8px;
            padding: 16px;
            text-align: center;
        }
        .related-card h4 {
            color: var(--aws-purple);
            font-size: 15px;
            margin-bottom: 6px;
        }
        .related-card p {
            font-size: 13px;
            color: var(--aws-light-gray);
        }

        /* Footer */
        footer {
            margin-top: 32px;
            padding: 24px;
            background: var(--aws-dark-squid);
            border-radius: 8px;
            border-top: 3px solid var(--aws-orange);
        }
        footer h3 { font-size: 18px; color: var(--aws-orange); margin-bottom: 16px; }
        footer a {
            display: block;
            margin-bottom: 10px;
            padding: 8px 12px;
            background: rgba(255, 153, 0, 0.1);
            border-radius: 6px;
            word-break: break-all;
        }
        .footer-note {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #333;
            font-size: 12px;
            color: #888;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                primaryColor: '#FF9900',
                primaryTextColor: '#232F3E',
                primaryBorderColor: '#FF9900',
                lineColor: '#FF9900',
                secondaryColor: '#F5F5F5',
                tertiaryColor: '#FAFAFA',
                background: '#FFFFFF',
                mainBkg: '#FFF3E0',
                nodeBorder: '#FF9900',
                clusterBkg: '#FFF8E1',
                clusterBorder: '#FF9900',
                edgeLabelBackground: '#FFFFFF',
                textColor: '#232F3E'
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="service-badge">AWS Security Token Service</div>
            <h1>ğŸ” ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å›ºæœ‰ã‚¯ãƒ¬ãƒ¼ãƒ ã®æ¤œè¨¼ã‚µãƒãƒ¼ãƒˆ</h1>
            <div class="subtitle">OIDC ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ GitHubã€Googleã€CircleCIã€OCI ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ¬ãƒ¼ãƒ ã‚’<br>IAM ãƒãƒªã‚·ãƒ¼ã®æ¡ä»¶ã‚­ãƒ¼ã¨ã—ã¦æ´»ç”¨ã—ã€ãã‚ç´°ã‹ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’å®Ÿç¾</div>
            <div class="release-date">ğŸ“… ãƒªãƒªãƒ¼ã‚¹æ—¥: 2026 å¹´ 2 æœˆ 2 æ—¥</div>
        </div>

        <!-- Overview -->
        <div class="section">
            <h2>ğŸ“Š æ¦‚è¦</h2>
            <p>AWS STS ãŒã€<span class="highlight">Googleã€GitHubã€CircleCIã€OCI</span> ã‹ã‚‰ã®ç‰¹å®šã®ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å›ºæœ‰ã‚¯ãƒ¬ãƒ¼ãƒ ã®æ¤œè¨¼ã‚’ã‚µãƒãƒ¼ãƒˆã€‚OIDC ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ãŸ <span class="highlight">AssumeRoleWithWebIdentity</span> API å‘¼ã³å‡ºã—ã«ãŠã„ã¦ã€IAM ãƒ­ãƒ¼ãƒ«ä¿¡é ¼ãƒãƒªã‚·ãƒ¼ã¨ãƒªã‚½ãƒ¼ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒãƒªã‚·ãƒ¼ã§ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ¬ãƒ¼ãƒ ã‚’æ¡ä»¶ã‚­ãƒ¼ã¨ã—ã¦å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</p>

            <div class="comparison">
                <div class="comparison-card before">
                    <h4>âš ï¸ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå‰</h4>
                    <ul>
                        <li>æ¨™æº–çš„ãª OIDC ã‚¯ãƒ¬ãƒ¼ãƒ ã®ã¿ãŒæ¡ä»¶ã‚­ãƒ¼ã¨ã—ã¦ä½¿ç”¨å¯èƒ½</li>
                        <li>ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å›ºæœ‰ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ¬ãƒ¼ãƒ ã‚’ä¿¡é ¼ãƒãƒªã‚·ãƒ¼ã§å‚ç…§ä¸å¯</li>
                        <li>GitHub Actions ã‚„ CircleCI ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãŒåˆ¶é™çš„</li>
                    </ul>
                </div>
                <div class="comparison-card after">
                    <h4>âœ¨ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå¾Œ</h4>
                    <ul>
                        <li>Googleã€GitHubã€CircleCIã€OCI ã®ç‰¹å®šã‚¯ãƒ¬ãƒ¼ãƒ ã‚’æ¡ä»¶ã‚­ãƒ¼ã¨ã—ã¦ä½¿ç”¨å¯èƒ½</li>
                        <li>ã‚ˆã‚Šè©³ç´°ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãƒãƒªã‚·ãƒ¼ã‚’å®Ÿè£…å¯èƒ½</li>
                        <li>CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‹ã‚‰ã® AWS ã‚¢ã‚¯ã‚»ã‚¹ã‚’ã‚ˆã‚Šå®‰å…¨ã«åˆ¶å¾¡</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Architecture Diagram -->
        <div class="section">
            <h2>ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³</h2>
            <p>å¤–éƒ¨ IdP ã‹ã‚‰ç™ºè¡Œã•ã‚ŒãŸ OIDC ãƒˆãƒ¼ã‚¯ãƒ³ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å›ºæœ‰ã‚¯ãƒ¬ãƒ¼ãƒ ã‚’ AWS STS ãŒæ¤œè¨¼ã—ã€IAM ãƒ­ãƒ¼ãƒ«ã®ä¿¡é ¼ãƒãƒªã‚·ãƒ¼ã§æ¡ä»¶ã¨ã—ã¦ä½¿ç”¨ã§ãã¾ã™ã€‚</p>
            <div class="mermaid-container">
                <pre class="mermaid">
flowchart TD
    subgraph IdP["ğŸ” ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼"]
        direction LR
        GitHub["ğŸ™ GitHub"]
        Google["ğŸ”µ Google"]
        CircleCI["âšª CircleCI"]
        OCI["ğŸŸ  OCI"]
        GitHub ~~~ Google ~~~ CircleCI ~~~ OCI
    end

    subgraph Token["ğŸ“œ OIDC ãƒˆãƒ¼ã‚¯ãƒ³"]
        Claims["ã‚¯ãƒ¬ãƒ¼ãƒ :<br/>- sub<br/>- aud<br/>- repository<br/>- workflow ç­‰"]
    end

    subgraph AWS["â˜ï¸ AWS"]
        STS["ğŸ”‘ AWS STS<br/>AssumeRoleWithWebIdentity"]

        subgraph Policy["ğŸ“‹ ä¿¡é ¼ãƒãƒªã‚·ãƒ¼"]
            Condition["æ¡ä»¶ã‚­ãƒ¼:<br/>- token.actions.githubusercontent.com:repository<br/>- accounts.google.com:email<br/>ç­‰"]
        end

        Role["ğŸ‘¤ IAM ãƒ­ãƒ¼ãƒ«"]
    end

    IdP --> |OIDC ãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ| Token
    Token --> |ãƒˆãƒ¼ã‚¯ãƒ³æç¤º| STS
    STS --> |ã‚¯ãƒ¬ãƒ¼ãƒ æ¤œè¨¼| Policy
    Policy --> |æ¡ä»¶ä¸€è‡´| Role

    classDef idp fill:#E8F5E9,stroke:#66BB6A,stroke-width:2px,color:#2E7D32
    classDef token fill:#FFF3E0,stroke:#FF9800,stroke-width:2px,color:#E65100
    classDef aws fill:none,stroke:#FF9900,stroke-width:2px,color:#232F3E
    classDef service fill:#FFE0B2,stroke:#FFCC80,stroke-width:2px,color:#5D4037

    class IdP,GitHub,Google,CircleCI,OCI idp
    class Token,Claims token
    class AWS aws
    class STS,Policy,Condition,Role service
                </pre>
            </div>
        </div>

        <!-- Key Features -->
        <div class="section">
            <h2>ğŸ¯ ä¸»è¦æ©Ÿèƒ½</h2>
            <div class="card">
                <h3>ğŸ” ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å›ºæœ‰ã‚¯ãƒ¬ãƒ¼ãƒ ã®æ¤œè¨¼</h3>
                <p>GitHub ã®ãƒªãƒã‚¸ãƒˆãƒªãƒ»ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ»ãƒ–ãƒ©ãƒ³ãƒã€Google ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ»ãƒ‰ãƒ¡ã‚¤ãƒ³ã€CircleCI ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ»ã‚¸ãƒ§ãƒ–ã€OCI ã®ã‚³ãƒ³ãƒ‘ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆãƒ»ãƒ†ãƒŠãƒ³ã‚·ãƒ¼ãªã©ã€å„ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å›ºæœ‰ã®ã‚¯ãƒ¬ãƒ¼ãƒ ã‚’æ¤œè¨¼ã§ãã¾ã™ã€‚</p>
            </div>
            <div class="card">
                <h3>ğŸ“‹ IAM ãƒãƒªã‚·ãƒ¼ã§ã®æ¡ä»¶ã‚­ãƒ¼ä½¿ç”¨</h3>
                <p>IAM ãƒ­ãƒ¼ãƒ«ä¿¡é ¼ãƒãƒªã‚·ãƒ¼ã§ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ¬ãƒ¼ãƒ ã‚’æ¡ä»¶ã¨ã—ã¦æŒ‡å®šå¯èƒ½ã€‚ãƒªã‚½ãƒ¼ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒãƒªã‚·ãƒ¼ (RCP) ã§ã‚‚ä½¿ç”¨ã§ãã€ãã‚ç´°ã‹ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’å®Ÿè£…ã§ãã¾ã™ã€‚</p>
            </div>
            <div class="card">
                <h3>ğŸ›¡ï¸ ãƒ‡ãƒ¼ã‚¿å¢ƒç•Œã®å¼·åŒ–</h3>
                <p>ç‰¹å®šã®ãƒªãƒã‚¸ãƒˆãƒªã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€ç’°å¢ƒã‹ã‚‰ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ã€ä¸æ­£ãªã‚¢ã‚¯ã‚»ã‚¹è©¦è¡Œã‚’ãƒ–ãƒ­ãƒƒã‚¯ã€‚æœ€å°æ¨©é™ã®åŸå‰‡ã‚’ IdP ãƒ¬ãƒ™ãƒ«ã§é©ç”¨ã§ãã¾ã™ã€‚</p>
            </div>
        </div>

        <!-- Supported Providers -->
        <div class="section">
            <h2>ğŸ”§ ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¨ã‚¯ãƒ¬ãƒ¼ãƒ </h2>
            <div class="provider-grid">
                <div class="provider-card">
                    <h4>ğŸ™ GitHub</h4>
                    <p>æ¡ä»¶ã‚­ãƒ¼ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹:<br><code>token.actions.githubusercontent.com</code></p>
                    <div class="claims">ä¸»ãªã‚¯ãƒ¬ãƒ¼ãƒ : <code>repository</code>, <code>workflow</code>, <code>ref</code>, <code>environment</code></div>
                </div>
                <div class="provider-card">
                    <h4>ğŸ”µ Google</h4>
                    <p>æ¡ä»¶ã‚­ãƒ¼ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹:<br><code>accounts.google.com</code></p>
                    <div class="claims">ä¸»ãªã‚¯ãƒ¬ãƒ¼ãƒ : <code>email</code>, <code>email_verified</code>, <code>hd</code></div>
                </div>
                <div class="provider-card">
                    <h4>âšª CircleCI</h4>
                    <p>æ¡ä»¶ã‚­ãƒ¼ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹:<br><code>oidc.circleci.com</code></p>
                    <div class="claims">ä¸»ãªã‚¯ãƒ¬ãƒ¼ãƒ : <code>project_id</code>, <code>vcs_url</code></div>
                </div>
                <div class="provider-card">
                    <h4>ğŸŸ  OCI</h4>
                    <p>æ¡ä»¶ã‚­ãƒ¼ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹:<br><code>identity.oraclecloud.com</code></p>
                    <div class="claims">ä¸»ãªã‚¯ãƒ¬ãƒ¼ãƒ : <code>tenancy_id</code>, <code>compartment_id</code></div>
                </div>
            </div>
        </div>

        <!-- Stats -->
        <div class="section">
            <h2>ğŸ“ˆ æ•°å­—ã§è¦‹ã‚‹ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ</h2>
            <div class="stats-grid">
                <div class="stats-card">
                    <div class="number">4</div>
                    <div class="label">å¯¾å¿œ IdP æ•°</div>
                </div>
                <div class="stats-card">
                    <div class="number">OIDC</div>
                    <div class="label">æ¨™æº–æº–æ‹ </div>
                </div>
                <div class="stats-card">
                    <div class="number">ç„¡æ–™</div>
                    <div class="label">è¿½åŠ æ–™é‡‘ãªã—</div>
                </div>
                <div class="stats-card">
                    <div class="number">å…¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³</div>
                    <div class="label">åˆ©ç”¨å¯èƒ½</div>
                </div>
            </div>
        </div>

        <!-- Setup Guide -->
        <div class="section">
            <h2>âš™ï¸ è¨­å®šæ–¹æ³•</h2>
            <p style="margin-bottom: 16px;">3 ã‚¹ãƒ†ãƒƒãƒ—ã§è¨­å®šã§ãã¾ã™ã€‚</p>

            <div class="flow-diagram">
                <div class="flow-step">ğŸ”§ OIDC ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼<br>ä½œæˆ</div>
                <span class="flow-arrow">&rarr;</span>
                <div class="flow-step">ğŸ“‹ IAM ãƒ­ãƒ¼ãƒ«<br>+ ä¿¡é ¼ãƒãƒªã‚·ãƒ¼</div>
                <span class="flow-arrow">&rarr;</span>
                <div class="flow-step">ğŸš€ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§<br>ä½¿ç”¨</div>
            </div>

            <h3 style="color: var(--aws-orange); margin: 20px 0 12px; font-size: 16px;">ã‚¹ãƒ†ãƒƒãƒ— 1: OIDC ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ä½œæˆ</h3>
            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">Bash</span>
                    <span class="code-title">GitHub Actions ç”¨ OIDC ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’ä½œæˆ</span>
                </div>
                <pre><code class="language-bash">aws iam create-open-id-connect-provider \
    --url https://token.actions.githubusercontent.com \
    --client-id-list sts.amazonaws.com \
    --thumbprint-list 6938fd4d98bab03faadb97b34396831e3780aea1</code></pre>
            </div>

            <h3 style="color: var(--aws-orange); margin: 20px 0 12px; font-size: 16px;">ã‚¹ãƒ†ãƒƒãƒ— 2: IAM ãƒ­ãƒ¼ãƒ«ã¨ä¿¡é ¼ãƒãƒªã‚·ãƒ¼ã®ä½œæˆ</h3>
            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">Bash</span>
                    <span class="code-title">ä¿¡é ¼ãƒãƒªã‚·ãƒ¼ã‚’å«ã‚€ IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆ</span>
                </div>
                <pre><code class="language-bash">aws iam create-role \
    --role-name GitHubActionsRole \
    --assume-role-policy-document file://trust-policy.json</code></pre>
            </div>

            <h3 style="color: var(--aws-orange); margin: 20px 0 12px; font-size: 16px;">ã‚¹ãƒ†ãƒƒãƒ— 3: GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ã®ä½¿ç”¨</h3>
            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">YAML</span>
                    <span class="code-title">.github/workflows/deploy.yml</span>
                </div>
                <pre><code class="language-yaml">jobs:
  deploy:
    runs-on: ubuntu-latest
    permissions:
      id-token: write
      contents: read
    steps:
      - name: Configure AWS credentials
        uses: aws-actions/configure-aws-credentials@v4
        with:
          role-to-assume: arn:aws:iam::123456789012:role/GitHubActionsRole
          aws-region: us-east-1</code></pre>
            </div>
        </div>

        <!-- Trust Policy Examples -->
        <div class="section">
            <h2>ğŸ“ ä¿¡é ¼ãƒãƒªã‚·ãƒ¼ä¾‹</h2>
            <h3 style="color: var(--aws-orange); margin-bottom: 12px; font-size: 16px;">ğŸ™ GitHub Actions ç”¨</h3>
            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">JSON</span>
                    <span class="code-title">ãƒªãƒã‚¸ãƒˆãƒªã¨ãƒ–ãƒ©ãƒ³ãƒã‚’æ¡ä»¶ã«æŒ‡å®š</span>
                </div>
                <pre><code class="language-json">{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Principal": {
                "Federated": "arn:aws:iam::123456789012:oidc-provider/token.actions.githubusercontent.com"
            },
            "Action": "sts:AssumeRoleWithWebIdentity",
            "Condition": {
                "StringEquals": {
                    "token.actions.githubusercontent.com:aud": "sts.amazonaws.com"
                },
                "StringLike": {
                    "token.actions.githubusercontent.com:sub": "repo:my-org/my-repo:*",
                    "token.actions.githubusercontent.com:repository": "my-org/my-repo"
                }
            }
        }
    ]
}</code></pre>
            </div>

            <h3 style="color: var(--aws-orange); margin: 20px 0 12px; font-size: 16px;">âšª CircleCI ç”¨</h3>
            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">JSON</span>
                    <span class="code-title">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ID ã‚’æ¡ä»¶ã«æŒ‡å®š</span>
                </div>
                <pre><code class="language-json">{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Principal": {
                "Federated": "arn:aws:iam::123456789012:oidc-provider/oidc.circleci.com/org/my-org-id"
            },
            "Action": "sts:AssumeRoleWithWebIdentity",
            "Condition": {
                "StringEquals": {
                    "oidc.circleci.com/org/my-org-id:aud": "my-org-id",
                    "oidc.circleci.com/org/my-org-id:project_id": "my-project-uuid"
                }
            }
        }
    ]
}</code></pre>
            </div>
        </div>

        <!-- Use Cases -->
        <div class="section">
            <h2>ğŸ’¡ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹</h2>
            <div class="usecase">
                <h3>ğŸš€ GitHub Actions ã‹ã‚‰ã®å®‰å…¨ãªãƒ‡ãƒ—ãƒ­ã‚¤</h3>
                <p>ç‰¹å®šã®ãƒªãƒã‚¸ãƒˆãƒªã® main ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ã®ã¿æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è¨±å¯ã€‚<code>repository</code> ã¨ <code>ref</code> ã‚¯ãƒ¬ãƒ¼ãƒ ã§åˆ¶å¾¡ã—ã¾ã™ã€‚</p>
                <div class="code-block" style="margin-top: 12px;">
                    <div class="code-header">
                        <span class="code-lang">JSON</span>
                        <span class="code-title">æ¡ä»¶ä¾‹</span>
                    </div>
                    <pre><code class="language-json">{
    "Condition": {
        "StringEquals": {
            "token.actions.githubusercontent.com:repository": "my-org/my-app",
            "token.actions.githubusercontent.com:ref": "refs/heads/main"
        }
    }
}</code></pre>
                </div>
            </div>
            <div class="usecase">
                <h3>ğŸ‘¤ Google Workspace ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡</h3>
                <p>ç‰¹å®šã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã® Google ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‹ã‚‰ã®ã¿ AWS ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã€‚<code>hd</code> ã¨ <code>email_verified</code> ã‚¯ãƒ¬ãƒ¼ãƒ ã§åˆ¶å¾¡ã—ã¾ã™ã€‚</p>
                <div class="code-block" style="margin-top: 12px;">
                    <div class="code-header">
                        <span class="code-lang">JSON</span>
                        <span class="code-title">æ¡ä»¶ä¾‹</span>
                    </div>
                    <pre><code class="language-json">{
    "Condition": {
        "StringEquals": {
            "accounts.google.com:hd": "mycompany.com",
            "accounts.google.com:email_verified": "true"
        }
    }
}</code></pre>
                </div>
            </div>
            <div class="usecase">
                <h3>ğŸ”„ CircleCI ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®åˆ†é›¢</h3>
                <p>å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã® CircleCI ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’å°‚ç”¨ã® IAM ãƒ­ãƒ¼ãƒ«ã«åˆ¶é™ã€‚<code>project_id</code> ã‚¯ãƒ¬ãƒ¼ãƒ ã§åˆ¶å¾¡ã—ã¾ã™ã€‚</p>
                <div class="code-block" style="margin-top: 12px;">
                    <div class="code-header">
                        <span class="code-lang">JSON</span>
                        <span class="code-title">æ¡ä»¶ä¾‹</span>
                    </div>
                    <pre><code class="language-json">{
    "Condition": {
        "StringEquals": {
            "oidc.circleci.com/org/my-org-id:project_id": "project-uuid-123"
        }
    }
}</code></pre>
                </div>
            </div>
        </div>

        <!-- Benefits -->
        <div class="section">
            <h2>âœ… ãƒ¡ãƒªãƒƒãƒˆ</h2>
            <div class="comparison">
                <div class="comparison-card after" style="border-left-color: var(--aws-teal); background: rgba(0, 161, 201, 0.1);">
                    <h4 style="color: var(--aws-teal);">ğŸ’¼ ãƒ“ã‚¸ãƒã‚¹é¢</h4>
                    <ul>
                        <li><strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–</strong>: ç‰¹å®šã®ãƒªãƒã‚¸ãƒˆãƒªã‚„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯</li>
                        <li><strong>ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹å¯¾å¿œ</strong>: ãƒ‡ãƒ¼ã‚¿å¢ƒç•Œã®ç¢ºç«‹ã¨ç›£æŸ»è¨¼è·¡ã®æ”¹å–„</li>
                        <li><strong>é‹ç”¨åŠ¹ç‡</strong>: é•·æœŸèªè¨¼æƒ…å ±ã®ç®¡ç†ãŒä¸è¦</li>
                    </ul>
                </div>
                <div class="comparison-card after" style="border-left-color: var(--aws-purple); background: rgba(140, 79, 255, 0.1);">
                    <h4 style="color: var(--aws-purple);">ğŸ”§ æŠ€è¡“é¢</h4>
                    <ul>
                        <li><strong>ãã‚ç´°ã‹ãªåˆ¶å¾¡</strong>: ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å›ºæœ‰ã®å±æ€§ã«åŸºã¥ãã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡</li>
                        <li><strong>æ¨™æº–æº–æ‹ </strong>: OIDC æ¨™æº–ã«åŸºã¥ãå®‰å…¨ãªãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</li>
                        <li><strong>æŸ”è»Ÿæ€§</strong>: è¤‡æ•°ã® IdP ã¨æ¡ä»¶ã‚’çµ„ã¿åˆã‚ã›ãŸè¤‡é›‘ãªãƒãƒªã‚·ãƒ¼ãŒå¯èƒ½</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Limitations -->
        <div class="section">
            <h2>âš ï¸ åˆ¶é™äº‹é …ãƒ»æ³¨æ„ç‚¹</h2>
            <div class="comparison">
                <div class="comparison-card before" style="background: rgba(255, 153, 0, 0.1); border-left-color: var(--aws-orange);">
                    <h4 style="color: var(--aws-orange);">ğŸ“Œ åˆ¶é™äº‹é …</h4>
                    <ul>
                        <li>ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹ IdP ã¯ Googleã€GitHubã€CircleCIã€OCI ã«é™å®š</li>
                        <li>ã™ã¹ã¦ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å›ºæœ‰ã‚¯ãƒ¬ãƒ¼ãƒ ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„</li>
                        <li>IAM OIDC ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®äº‹å‰è¨­å®šãŒå¿…è¦</li>
                    </ul>
                </div>
                <div class="comparison-card before" style="background: rgba(255, 153, 0, 0.1); border-left-color: var(--aws-orange);">
                    <h4 style="color: var(--aws-orange);">ğŸ’­ è€ƒæ…®ã™ã¹ãç‚¹</h4>
                    <ul>
                        <li>ã‚¯ãƒ¬ãƒ¼ãƒ å€¤ã®å¤‰æ›´ã«æ³¨æ„ãŒå¿…è¦ (ãƒªãƒã‚¸ãƒˆãƒªåã®å¤‰æ›´ãªã©)</li>
                        <li>æ¡ä»¶ã‚­ãƒ¼ã®æ­£ç¢ºãªæ§‹æ–‡ã‚’ç¢ºèªã™ã‚‹ã“ã¨</li>
                        <li>IdP å´ã®è¨­å®šã‚‚é©åˆ‡ã«è¡Œã†å¿…è¦ãŒã‚ã‚‹</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Pricing -->
        <div class="section">
            <h2>ğŸ’° æ–™é‡‘</h2>
            <p>ã“ã®æ©Ÿèƒ½ã«è¿½åŠ æ–™é‡‘ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
            <div style="margin-top: 12px;">
                <span class="pricing-badge">è¿½åŠ æ–™é‡‘ãªã—</span>
            </div>
            <p style="margin-top: 12px; font-size: 14px;">AWS STS ã®æ¨™æº–æ–™é‡‘ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚AssumeRoleWithWebIdentity ã¯ç„¡æ–™ã§ã™ã€‚</p>
        </div>

        <!-- Region -->
        <div class="section">
            <h2>ğŸŒ åˆ©ç”¨å¯èƒ½ãƒªãƒ¼ã‚¸ãƒ§ãƒ³</h2>
            <p>ã“ã®æ©Ÿèƒ½ã¯ã€AWS STS ãŒåˆ©ç”¨å¯èƒ½ãªã™ã¹ã¦ã® AWS ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§åˆ©ç”¨å¯èƒ½ã§ã™ã€‚</p>
            <div style="margin-top: 12px;">
                <span class="region-badge">ğŸŒ å…¨ AWS ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§åˆ©ç”¨å¯èƒ½</span>
            </div>
        </div>

        <!-- Related Services -->
        <div class="section">
            <h2>ğŸ”— é–¢é€£ã‚µãƒ¼ãƒ“ã‚¹</h2>
            <div class="related-grid">
                <div class="related-card">
                    <h4>ğŸ” IAM Identity Center</h4>
                    <p>çµ„ç¹”å…¨ä½“ã®ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç®¡ç†</p>
                </div>
                <div class="related-card">
                    <h4>ğŸ“œ IAM Roles Anywhere</h4>
                    <p>X.509 è¨¼æ˜æ›¸ãƒ™ãƒ¼ã‚¹ã®ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</p>
                </div>
                <div class="related-card">
                    <h4>ğŸ¢ Organizations SCP</h4>
                    <p>ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒãƒªã‚·ãƒ¼ã¨ã®é€£æº</p>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <h3>ğŸ“ å‡ºå…¸ãƒ»å‚è€ƒãƒªãƒ³ã‚¯</h3>
            <a href="https://aws.amazon.com/about-aws/whats-new/2026/01/aws-sts-supports-validation-identity-provider-claims" target="_blank">ğŸ”— å…¬å¼ç™ºè¡¨ (What's New)</a>
            <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_oidc.html" target="_blank">ğŸ“– IAM OIDC ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>
            <a href="https://docs.github.com/en/actions/deployment/security-hardening-your-deployments/configuring-openid-connect-in-amazon-web-services" target="_blank">ğŸ™ GitHub Actions OIDC è¨­å®šã‚¬ã‚¤ãƒ‰</a>
            <p class="footer-note">ğŸ¤– Generated with Claude Code | ğŸ“… 2026-02-13</p>
        </footer>
    </div>
</body>
</html>

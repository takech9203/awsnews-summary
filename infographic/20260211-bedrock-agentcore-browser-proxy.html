<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Amazon Bedrock AgentCore Browser - プロキシ設定サポート</title>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/styles/atom-one-dark.min.css">
  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap');

    :root {
      --aws-squid-ink: #232F3E;
      --aws-dark-squid: #1A242F;
      --aws-orange: #FF9900;
      --aws-smile-orange: #FFAD33;
      --aws-white: #FFFFFF;
      --aws-light-gray: #D5DBDB;
      --aws-teal: #00A1C9;
      --aws-purple: #8C4FFF;
      --aws-green: #1D8102;
      --aws-red: #D13212;
    }

    * {
      box-sizing: border-box;
    }

    body {
      background-color: var(--aws-squid-ink);
      font-family: 'Noto Sans JP', 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
      color: var(--aws-light-gray);
      font-size: 16px;
      line-height: 1.6;
      padding: 20px;
      margin: 0;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      width: 100%;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 32px;
      padding-bottom: 24px;
      border-bottom: 2px solid var(--aws-orange);
    }

    .service-badge {
      display: inline-block;
      background: var(--aws-orange);
      color: var(--aws-squid-ink);
      padding: 6px 16px;
      border-radius: 20px;
      font-weight: 600;
      font-size: 14px;
      margin-bottom: 16px;
    }

    h1 {
      font-size: 32px;
      font-weight: 700;
      color: var(--aws-white);
      margin: 0 0 12px 0;
    }

    .subtitle {
      font-size: 16px;
      color: var(--aws-light-gray);
    }

    .release-date {
      font-size: 14px;
      color: var(--aws-orange);
      margin-top: 8px;
    }

    h2 {
      font-size: 22px;
      font-weight: 600;
      color: var(--aws-orange);
      margin: 0 0 16px 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    h3 {
      font-size: 18px;
      font-weight: 600;
      color: var(--aws-white);
      margin: 0 0 12px 0;
    }

    .section {
      background: var(--aws-dark-squid);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .highlight {
      background-color: rgba(255, 153, 0, 0.2);
      padding: 2px 6px;
      border-radius: 4px;
      font-weight: 600;
      color: var(--aws-orange);
    }

    /* Stats */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
      margin-bottom: 24px;
    }

    @media (max-width: 768px) {
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 480px) {
      .stats-grid {
        grid-template-columns: 1fr;
      }
    }

    .stat-card {
      background: linear-gradient(135deg, var(--aws-orange) 0%, var(--aws-smile-orange) 100%);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }

    .stat-icon {
      font-size: 32px;
      margin-bottom: 8px;
    }

    .stat-value {
      font-size: 22px;
      font-weight: 700;
      color: var(--aws-squid-ink);
      margin-bottom: 4px;
    }

    .stat-label {
      font-size: 13px;
      color: var(--aws-squid-ink);
      font-weight: 600;
    }

    /* Before/After */
    .before-after {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 16px;
    }

    @media (max-width: 600px) {
      .before-after {
        grid-template-columns: 1fr;
      }
    }

    .before-box {
      background: rgba(209, 50, 18, 0.15);
      border: 2px solid var(--aws-red);
      border-radius: 8px;
      padding: 16px;
    }

    .after-box {
      background: rgba(29, 129, 2, 0.15);
      border: 2px solid var(--aws-green);
      border-radius: 8px;
      padding: 16px;
    }

    .before-box h3, .after-box h3 {
      margin: 0 0 12px 0;
      font-size: 16px;
    }

    .before-box h3 { color: var(--aws-red); }
    .after-box h3 { color: var(--aws-green); }

    .before-box ul, .after-box ul {
      margin: 0;
      padding-left: 20px;
    }

    .before-box li, .after-box li {
      margin: 8px 0;
    }

    /* Architecture diagram */
    .mermaid-container {
      background: #FFFFFF;
      border-radius: 12px;
      padding: 24px;
      margin: 20px 0;
      border: 2px solid rgba(255, 153, 0, 0.3);
      overflow-x: auto;
    }

    .mermaid {
      display: flex;
      justify-content: center;
    }

    /* Feature cards */
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin-top: 16px;
    }

    @media (max-width: 600px) {
      .feature-grid {
        grid-template-columns: 1fr;
      }
    }

    .feature-card {
      background: rgba(255, 153, 0, 0.1);
      border-left: 4px solid var(--aws-orange);
      border-radius: 0 8px 8px 0;
      padding: 16px;
    }

    .feature-icon {
      font-size: 28px;
      margin-bottom: 8px;
    }

    .feature-title {
      font-weight: 600;
      color: var(--aws-white);
      margin-bottom: 8px;
    }

    .feature-desc {
      font-size: 14px;
      color: var(--aws-light-gray);
    }

    /* Routing priority flow */
    .flow-diagram {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
      margin: 24px 0;
    }

    .flow-step {
      background: var(--aws-dark-squid);
      border: 2px solid var(--aws-orange);
      border-radius: 8px;
      padding: 12px 20px;
      text-align: center;
      min-width: 100px;
      color: var(--aws-light-gray);
    }

    .flow-step.primary {
      border-color: var(--aws-green);
      background: rgba(29, 129, 2, 0.15);
    }

    .flow-arrow {
      color: var(--aws-orange);
      font-size: 24px;
      font-weight: bold;
    }

    /* Spec table */
    .spec-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
    }

    .spec-table th {
      background: rgba(255, 153, 0, 0.2);
      color: var(--aws-orange);
      text-align: left;
      padding: 10px 14px;
      font-size: 13px;
      font-weight: 600;
      border-bottom: 2px solid rgba(255, 153, 0, 0.3);
    }

    .spec-table td {
      padding: 10px 14px;
      font-size: 14px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }

    .spec-table tr:last-child td {
      border-bottom: none;
    }

    /* Limitations */
    .limitation-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-top: 12px;
    }

    @media (max-width: 600px) {
      .limitation-grid {
        grid-template-columns: 1fr;
      }
    }

    .limitation-card {
      background: rgba(209, 50, 18, 0.08);
      border: 1px solid rgba(209, 50, 18, 0.3);
      border-radius: 8px;
      padding: 12px;
      font-size: 14px;
    }

    .limitation-card .lim-title {
      font-weight: 600;
      color: var(--aws-red);
      font-size: 13px;
      margin-bottom: 4px;
    }

    /* Benefits */
    .benefits-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin-top: 16px;
    }

    @media (max-width: 600px) {
      .benefits-grid {
        grid-template-columns: 1fr;
      }
    }

    .benefit-card {
      background: var(--aws-squid-ink);
      border: 1px solid rgba(255, 153, 0, 0.3);
      border-radius: 8px;
      padding: 16px;
    }

    .benefit-category {
      font-size: 12px;
      color: var(--aws-orange);
      font-weight: 600;
      margin-bottom: 8px;
      text-transform: uppercase;
    }

    .benefit-item {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      margin: 8px 0;
    }

    .benefit-check {
      color: var(--aws-green);
      font-size: 16px;
      flex-shrink: 0;
    }

    /* Use cases */
    .usecase-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin-top: 16px;
    }

    @media (max-width: 768px) {
      .usecase-grid {
        grid-template-columns: 1fr;
      }
    }

    .usecase-card {
      background: rgba(0, 161, 201, 0.1);
      border: 1px solid var(--aws-teal);
      border-radius: 8px;
      padding: 16px;
    }

    .usecase-icon {
      font-size: 28px;
      margin-bottom: 8px;
    }

    .usecase-title {
      font-weight: 600;
      color: var(--aws-teal);
      margin-bottom: 8px;
    }

    .usecase-scenario {
      font-size: 13px;
      color: var(--aws-light-gray);
      margin-bottom: 8px;
    }

    .usecase-effect {
      font-size: 13px;
      color: var(--aws-green);
      border-top: 1px solid rgba(0, 161, 201, 0.2);
      padding-top: 8px;
      margin-top: 8px;
    }

    /* Code blocks */
    .code-block {
      background: #1a1a2e;
      border-radius: 8px;
      overflow: hidden;
      margin: 16px 0;
    }

    .code-header {
      background: #16213e;
      padding: 8px 16px;
      display: flex;
      justify-content: space-between;
      font-size: 12px;
    }

    .code-lang {
      color: var(--aws-orange);
      font-weight: bold;
    }

    .code-title {
      color: var(--aws-light-gray);
    }

    .code-block pre {
      margin: 0;
      padding: 0;
      overflow-x: auto;
    }

    .code-block code {
      font-family: 'Courier New', monospace;
      font-size: 13px;
      line-height: 1.5;
      padding: 16px !important;
    }

    /* Domain patterns */
    .pattern-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
    }

    .pattern-table th {
      background: rgba(140, 79, 255, 0.15);
      color: var(--aws-purple);
      text-align: left;
      padding: 10px 14px;
      font-size: 13px;
      font-weight: 600;
      border-bottom: 2px solid rgba(140, 79, 255, 0.3);
    }

    .pattern-table td {
      padding: 10px 14px;
      font-size: 14px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }

    .pattern-table code {
      background: rgba(255, 153, 0, 0.15);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      color: var(--aws-orange);
    }

    /* Pricing */
    .pricing-info {
      background: rgba(140, 79, 255, 0.08);
      border: 1px solid rgba(140, 79, 255, 0.3);
      border-radius: 8px;
      padding: 16px;
      margin-top: 12px;
    }

    .pricing-free {
      color: var(--aws-green);
      font-weight: 600;
      font-size: 18px;
      margin-bottom: 8px;
    }

    /* Region */
    .region-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-top: 12px;
    }

    @media (max-width: 600px) {
      .region-grid {
        grid-template-columns: 1fr;
      }
    }

    .region-group {
      background: var(--aws-squid-ink);
      border: 1px solid rgba(255, 153, 0, 0.2);
      border-radius: 8px;
      padding: 12px;
    }

    .region-group-title {
      font-size: 13px;
      color: var(--aws-orange);
      font-weight: 600;
      margin-bottom: 8px;
    }

    .region-group ul {
      margin: 0;
      padding-left: 18px;
      font-size: 13px;
    }

    .region-group li {
      margin: 4px 0;
    }

    /* Related services */
    .related-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-top: 12px;
    }

    @media (max-width: 600px) {
      .related-grid {
        grid-template-columns: 1fr;
      }
    }

    .related-card {
      background: var(--aws-squid-ink);
      border: 1px solid rgba(0, 161, 201, 0.3);
      border-radius: 8px;
      padding: 12px;
    }

    .related-name {
      font-weight: 600;
      color: var(--aws-teal);
      font-size: 14px;
      margin-bottom: 4px;
    }

    .related-desc {
      font-size: 13px;
      color: var(--aws-light-gray);
    }

    /* Footer */
    footer {
      margin-top: 32px;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      font-size: 13px;
      color: var(--aws-light-gray);
    }

    footer a {
      color: var(--aws-teal);
      text-decoration: none;
      word-break: break-all;
    }

    footer a:hover {
      color: var(--aws-smile-orange);
    }

    footer ul {
      padding-left: 20px;
    }

    footer li {
      margin: 6px 0;
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- Header -->
    <div class="header">
      <span class="service-badge">Amazon Bedrock AgentCore Browser</span>
      <h1>プロキシ設定サポート</h1>
      <p class="subtitle">ブラウザセッションのトラフィックを自社プロキシ経由でルーティングし、コンプライアンスと制御を実現</p>
      <p class="release-date">2026 年 2 月 11 日 - GA</p>
    </div>

    <!-- Stats -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">&#128274;</div>
        <div class="stat-value">IP 制御</div>
        <div class="stat-label">安定したエグレス IP で<br/>再認証を排除</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">&#127760;</div>
        <div class="stat-value">14 リージョン</div>
        <div class="stat-label">グローバルに利用可能</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">&#128176;</div>
        <div class="stat-value">追加料金なし</div>
        <div class="stat-label">プロキシ設定機能の<br/>使用に追加料金不要</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">&#128737;</div>
        <div class="stat-value">最大 5 プロキシ</div>
        <div class="stat-label">セッションあたりの<br/>プロキシ上限</div>
      </div>
    </div>

    <!-- Overview -->
    <div class="section">
      <h2>&#128203; 概要</h2>
      <p>
        <span class="highlight">Amazon Bedrock AgentCore Browser</span> がカスタマー提供の<span class="highlight">プロキシ設定</span>をサポートしました。この機能により、ブラウザセッションのトラフィックを自社のプロキシインフラストラクチャ経由でルーティングでき、<span class="highlight">ジオターゲティング</span>、<span class="highlight">リージョン固有のコンテンツアクセス</span>、<span class="highlight">コンプライアンス要件</span>への対応が可能になります。
      </p>
      <p>
        HTTP および HTTPS プロトコルをサポートし、<span class="highlight">AWS Secrets Manager</span> を通じたセキュアな認証情報管理を実現します。
      </p>

      <div class="before-after">
        <div class="before-box">
          <h3>&#10060; アップデート前</h3>
          <ul>
            <li>トラフィックは AWS ネットワーク経由で直接ルーティング、自社プロキシを経由できなかった</li>
            <li>AWS の IP アドレスローテーションにより頻繁な再認証が発生</li>
            <li>医療機関・金融サービスで IP 許可リスト要件に対応できなかった</li>
            <li>地理的に制限されたコンテンツやリージョン固有の価格検証が不可能</li>
          </ul>
        </div>
        <div class="after-box">
          <h3>&#9989; アップデート後</h3>
          <ul>
            <li>自社プロキシインフラストラクチャ経由でブラウザトラフィックをルーティング可能</li>
            <li>安定したエグレス IP により再認証サイクルを排除</li>
            <li>ドメインベースのルーティングで特定ドメインを指定プロキシ経由で接続</li>
            <li>AWS Secrets Manager による認証情報の安全な管理</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Architecture diagram -->
    <div class="section">
      <h2>&#127959; アーキテクチャ</h2>
      <div class="mermaid-container">
        <pre class="mermaid">
flowchart TD
    User["&#128100; 開発者"] --> StartSession["&#128640; StartBrowserSession&lt;br/&gt;proxyConfiguration 指定"]

    StartSession --> AgentCore["&#129302; AgentCore&lt;br/&gt;Browser サービス"]

    AgentCore --> SecretsManager["&#128274; AWS Secrets Manager&lt;br/&gt;プロキシ認証情報取得"]
    SecretsManager --> AgentCore

    AgentCore --> BrowserSession["&#127760; ブラウザセッション&lt;br/&gt;プロキシ設定適用"]

    BrowserSession --> Proxy["&#128260; カスタマー管理&lt;br/&gt;プロキシサーバー"]

    Proxy --> Target1["&#127757; 地理制限コンテンツ"]
    Proxy --> Target2["&#127970; 社内システム"]
    Proxy --> Target3["&#128176; リージョン固有&lt;br/&gt;価格ページ"]

    BrowserSession -.->|bypass| Direct["&#9729; AWS エンドポイント&lt;br/&gt;直接接続"]

    classDef user fill:#E3F2FD,stroke:#BBDEFB,stroke-width:2px,color:#1565C0
    classDef service fill:#FFE0B2,stroke:#FFCC80,stroke-width:2px,color:#5D4037
    classDef security fill:#F3E5F5,stroke:#CE93D8,stroke-width:2px,color:#6A1B9A
    classDef process fill:#FFFFFF,stroke:#4A90E2,stroke-width:2px,color:#333333
    classDef target fill:#DCEDC8,stroke:#C5E1A5,stroke-width:2px,color:#33691E
    classDef bypass fill:#E8F1FF,stroke:#4A90E2,stroke-width:2px,color:#333333

    class User user
    class AgentCore,BrowserSession service
    class SecretsManager security
    class StartSession,Proxy process
    class Target1,Target2,Target3 target
    class Direct bypass
        </pre>
      </div>
      <p style="text-align: center; font-size: 14px; color: var(--aws-light-gray);">プロキシ設定を指定してブラウザセッションを作成し、カスタマー管理プロキシ経由でトラフィックをルーティング。バイパス設定により AWS エンドポイントへの直接接続も可能。</p>
    </div>

    <!-- Key Features -->
    <div class="section">
      <h2>&#9889; 主要機能</h2>

      <div class="feature-grid">
        <div class="feature-card">
          <div class="feature-icon">&#128752;</div>
          <div class="feature-title">プロキシ経由のトラフィックルーティング</div>
          <div class="feature-desc">
            <code>proxyConfiguration</code> パラメータでプロキシサーバーを指定。HTTP/HTTPS をサポートし、Chromium の <code>--proxy-server</code> フラグでブラウザレベルでルーティング。
          </div>
        </div>

        <div class="feature-card">
          <div class="feature-icon">&#127760;</div>
          <div class="feature-title">ドメインベースルーティング</div>
          <div class="feature-desc">
            <code>domainPatterns</code> で特定ドメインを指定プロキシ経由でルーティング。複数プロキシの設定と <code>bypass.domainPatterns</code> による直接接続ドメインの指定が可能。
          </div>
        </div>

        <div class="feature-card">
          <div class="feature-icon">&#128274;</div>
          <div class="feature-title">セキュアな認証情報管理</div>
          <div class="feature-desc">
            AWS Secrets Manager にプロキシ認証情報を保存。HTTP Basic 認証または IP 許可リスト方式をサポート。認証情報は API レスポンスやログに含まれない。
          </div>
        </div>

        <div class="feature-card">
          <div class="feature-icon">&#128220;</div>
          <div class="feature-title">ルーティング優先順位</div>
          <div class="feature-desc">
            バイパスドメイン (最優先) &#8594; プロキシドメインパターン &#8594; デフォルトプロキシの順で評価。きめ細かいトラフィック制御を実現。
          </div>
        </div>
      </div>

      <h3 style="margin-top: 24px;">&#8679; ルーティング優先順位フロー</h3>
      <div class="flow-diagram">
        <div class="flow-step primary">&#128167; リクエスト</div>
        <span class="flow-arrow">&#8594;</span>
        <div class="flow-step">&#9989; バイパス一致?<br/><small>直接接続</small></div>
        <span class="flow-arrow">&#8594;</span>
        <div class="flow-step">&#127760; ドメインパターン一致?<br/><small>指定プロキシ経由</small></div>
        <span class="flow-arrow">&#8594;</span>
        <div class="flow-step">&#128260; デフォルトプロキシ</div>
      </div>
    </div>

    <!-- Technical Specs -->
    <div class="section">
      <h2>&#128295; 技術仕様</h2>

      <h3>制約事項</h3>
      <table class="spec-table">
        <thead>
          <tr>
            <th>項目</th>
            <th>制限値</th>
            <th>調整可否</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>セッションあたりの最大プロキシ数</td>
            <td><span class="highlight">5</span></td>
            <td>可能</td>
          </tr>
          <tr>
            <td>プロキシあたりの最大ドメインパターン数</td>
            <td><span class="highlight">100</span></td>
            <td>可能</td>
          </tr>
          <tr>
            <td>バイパスドメインパターンの最大数</td>
            <td><span class="highlight">100</span></td>
            <td>可能</td>
          </tr>
          <tr>
            <td>サーバーホスト名の最大長</td>
            <td>253 文字</td>
            <td>不可</td>
          </tr>
          <tr>
            <td>ドメインパターンの最大長</td>
            <td>253 文字</td>
            <td>不可</td>
          </tr>
          <tr>
            <td>ポート範囲</td>
            <td>1 - 65535</td>
            <td>不可</td>
          </tr>
        </tbody>
      </table>

      <h3 style="margin-top: 24px;">ドメインパターンの記法</h3>
      <table class="pattern-table">
        <thead>
          <tr>
            <th>パターン</th>
            <th>一致する対象</th>
            <th>一致しない対象</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>.example.com</code></td>
            <td><code>www.example.com</code>、<code>api.example.com</code></td>
            <td><code>example.com</code></td>
          </tr>
          <tr>
            <td><code>example.com</code></td>
            <td><code>example.com</code> (完全一致のみ)</td>
            <td><code>www.example.com</code></td>
          </tr>
        </tbody>
      </table>
      <p style="font-size: 14px; color: var(--aws-light-gray); margin-top: 8px;">サブドメインを含める場合は先頭にドット (<code>.example.com</code>) を使用。<code>*.example.com</code> は使用不可。</p>

      <h3 style="margin-top: 24px;">制限事項</h3>
      <div class="limitation-grid">
        <div class="limitation-card">
          <div class="lim-title">&#9888; トラフィックルーティング</div>
          <span>ブラウザレベルの設定であり、ネットワークレベルの制御ではない。ネットワーク層の制御には VPC 設定を使用</span>
        </div>
        <div class="limitation-card">
          <div class="lim-title">&#9888; 対応プロトコル</div>
          <span>HTTP/HTTPS のみ。SOCKS4 および SOCKS5 は非対応</span>
        </div>
        <div class="limitation-card">
          <div class="lim-title">&#9888; 認証方式</div>
          <span>HTTP Basic 認証または認証なし (IP 許可リスト)。NTLM、Kerberos、証明書ベース認証は非対応</span>
        </div>
        <div class="limitation-card">
          <div class="lim-title">&#9888; プロキシ変更</div>
          <span>セッション作成時に一度だけ設定。実行中の変更は不可</span>
        </div>
        <div class="limitation-card">
          <div class="lim-title">&#9888; プロキシローテーション</div>
          <span>自動ローテーション非対応。プロキシ切り替えには新規セッション作成が必要</span>
        </div>
        <div class="limitation-card">
          <div class="lim-title">&#9888; 接続検証</div>
          <span>セッション作成時にプロキシ接続性は検証されない。エラーはランタイム時に発生</span>
        </div>
      </div>
    </div>

    <!-- Setup Guide -->
    <div class="section">
      <h2>&#128736; 設定方法</h2>

      <h3>前提条件</h3>
      <ul style="margin-top: 8px;">
        <li>Amazon Bedrock AgentCore Browser の一般的な前提条件を満たしていること</li>
        <li>パブリックインターネットからアクセス可能な HTTP/HTTPS プロキシサーバー</li>
        <li>プロキシが HTTPS トラフィックトンネリング用の HTTP CONNECT メソッドをサポートしていること</li>
        <li>認証を使用する場合、AWS Secrets Manager にプロキシ認証情報を格納するシークレットが必要</li>
      </ul>

      <h3 style="margin-top: 20px;">ステップ 1: 認証情報シークレットの作成</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Bash</span>
          <span class="code-title">AWS CLI - シークレット作成</span>
        </div>
        <pre><code class="language-bash">aws secretsmanager create-secret \
  --name "my-proxy-credentials" \
  --secret-string '{"username":"&lt;your-username&gt;","password":"&lt;your-password&gt;"}'</code></pre>
      </div>

      <h3 style="margin-top: 20px;">ステップ 2: IAM 権限の追加</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">JSON</span>
          <span class="code-title">IAM ポリシー</span>
        </div>
        <pre><code class="language-json">{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": "secretsmanager:GetSecretValue",
            "Resource": "arn:aws:secretsmanager:&lt;region&gt;:&lt;account-id&gt;:secret:&lt;secret-name&gt;*"
        }
    ]
}</code></pre>
      </div>

      <h3 style="margin-top: 20px;">ステップ 3: プロキシ付きブラウザセッションの作成</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Python</span>
          <span class="code-title">Boto3 - 基本的なプロキシ設定</span>
        </div>
        <pre><code class="language-python">import boto3

client = boto3.client('bedrock-agentcore-runtime', region_name='&lt;region&gt;')

response = client.start_browser_session(
    browserIdentifier="aws.browser.v1",
    name="my-proxy-session",
    proxyConfiguration={
        "proxies": [{
            "externalProxy": {
                "server": "&lt;your-proxy-hostname&gt;",
                "port": 8080,
                "credentials": {
                    "basicAuth": {
                        "secretArn": "arn:aws:secretsmanager:&lt;region&gt;:&lt;account-id&gt;:secret:&lt;secret-name&gt;"
                    }
                }
            }
        }]
    }
)
print(f"Session ID: {response['sessionId']}")</code></pre>
      </div>

      <h3 style="margin-top: 20px;">ステップ 4: ドメインベースルーティングの設定 (オプション)</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Python</span>
          <span class="code-title">Boto3 - ドメインベースルーティング</span>
        </div>
        <pre><code class="language-python">response = client.start_browser_session(
    browserIdentifier="aws.browser.v1",
    name="domain-routing-session",
    proxyConfiguration={
        "proxies": [
            {
                "externalProxy": {
                    "server": "corp-proxy.example.com",
                    "port": 8080,
                    "domainPatterns": [".company.com", ".internal.corp"]
                }
            },
            {
                "externalProxy": {
                    "server": "general-proxy.example.com",
                    "port": 8080
                }
            }
        ],
        "bypass": {
            "domainPatterns": [".amazonaws.com"]
        }
    }
)
# *.company.com / *.internal.corp -> 企業プロキシ
# *.amazonaws.com -> 直接接続
# その他 -> 汎用プロキシ</code></pre>
      </div>
    </div>

    <!-- Benefits -->
    <div class="section">
      <h2>&#127775; メリット</h2>

      <div class="benefits-grid">
        <div class="benefit-card">
          <div class="benefit-category">&#128188; ビジネス面</div>
          <div class="benefit-item">
            <span class="benefit-check">&#10003;</span>
            <span>規制産業のお客様が既存のセキュリティポリシーに準拠した形でブラウザ自動化を実行可能</span>
          </div>
          <div class="benefit-item">
            <span class="benefit-check">&#10003;</span>
            <span>安定したエグレス IP により、IP ベースのセッション検証ポータルでの再認証サイクルを排除</span>
          </div>
          <div class="benefit-item">
            <span class="benefit-check">&#10003;</span>
            <span>リージョン固有の価格検証やローカライズされたアプリケーション動作の検証が可能</span>
          </div>
          <div class="benefit-item">
            <span class="benefit-check">&#10003;</span>
            <span>既存の企業プロキシインフラストラクチャをそのまま AgentCore Browser に適用</span>
          </div>
        </div>

        <div class="benefit-card">
          <div class="benefit-category">&#9881; 技術面</div>
          <div class="benefit-item">
            <span class="benefit-check">&#10003;</span>
            <span>ドメインベースルーティングでトラフィックをきめ細かく制御</span>
          </div>
          <div class="benefit-item">
            <span class="benefit-check">&#10003;</span>
            <span>AWS Secrets Manager による認証情報の一元管理、クロスアカウント対応</span>
          </div>
          <div class="benefit-item">
            <span class="benefit-check">&#10003;</span>
            <span>バイパス設定で AWS エンドポイントを直接接続に設定し、レイテンシを最適化</span>
          </div>
          <div class="benefit-item">
            <span class="benefit-check">&#10003;</span>
            <span>企業プロキシ経由でトラフィックの監査とセキュリティポリシーの適用が可能</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Considerations -->
    <div class="section">
      <h2>&#9888; 考慮すべき点</h2>
      <ul>
        <li>プロキシサーバーの<strong style="color: var(--aws-white);">可用性とキャパシティ</strong>を確保する必要がある</li>
        <li>セッション作成時にプロキシ接続性は検証されないため、<strong style="color: var(--aws-white);">接続エラーはランタイム時に発生</strong>する</li>
        <li>プロキシサーバーの<strong style="color: var(--aws-white);">地理的な近接性</strong>がパフォーマンスに影響。AWS リージョンに近いプロキシの使用を推奨</li>
        <li>カスタマーが管理するプロキシサーバーの<strong style="color: var(--aws-white);">セキュリティと運用はカスタマーの責任</strong></li>
      </ul>
    </div>

    <!-- Use Cases -->
    <div class="section">
      <h2>&#127919; ユースケース</h2>

      <div class="usecase-grid">
        <div class="usecase-card">
          <div class="usecase-icon">&#127973;</div>
          <div class="usecase-title">医療機関ポータルの IP 許可リスト対応</div>
          <div class="usecase-scenario">厳格な IP 許可リストポリシーを持つ医療ポータルに、AI エージェントがアクセスしてデータを取得。固定 IP プロキシ経由でトラフィックをルーティング。</div>
          <div class="usecase-effect">&#10003; 安定したエグレス IP により IP 許可リスト要件を満たし、再認証なしで医療ポータルへの継続的なアクセスを実現</div>
        </div>

        <div class="usecase-card">
          <div class="usecase-icon">&#127974;</div>
          <div class="usecase-title">金融サービスのエグレスポリシー準拠</div>
          <div class="usecase-scenario">全インターネットトラフィックを企業プロキシ経由でルーティングするセキュリティポリシーを持つ金融サービス企業。AgentCore Browser セッションもこのポリシーに準拠。</div>
          <div class="usecase-effect">&#10003; 既存のセキュリティインフラストラクチャを活用し、コンプライアンス要件を満たしながらブラウザ自動化を実行</div>
        </div>

        <div class="usecase-card">
          <div class="usecase-icon">&#127758;</div>
          <div class="usecase-title">リージョン固有の価格・コンテンツ検証</div>
          <div class="usecase-scenario">EC サイトがグローバル展開しており、各地域のローカライズされた価格表示やコンテンツが正しく表示されているか検証。各地域のプロキシを使用。</div>
          <div class="usecase-effect">&#10003; 地理的に制限されたコンテンツにアクセスし、リージョン固有の価格やローカライズの正確性を自動検証</div>
        </div>
      </div>
    </div>

    <!-- Pricing -->
    <div class="section">
      <h2>&#128176; 料金</h2>
      <div class="pricing-info">
        <div class="pricing-free">&#10003; プロキシ設定機能の使用に追加料金なし</div>
        <p style="font-size: 14px;">Amazon Bedrock AgentCore Browser の料金は、ブラウザセッションの使用時間に基づいて課金されます。</p>
      </div>
      <table class="spec-table" style="margin-top: 16px;">
        <thead>
          <tr>
            <th>関連コスト項目</th>
            <th>説明</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>AWS Secrets Manager</td>
            <td>プロキシ認証情報の保存と取得に対する料金</td>
          </tr>
          <tr>
            <td>プロキシサーバー</td>
            <td>カスタマーが管理するプロキシインフラストラクチャの運用コスト</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Regions -->
    <div class="section">
      <h2>&#127758; 利用可能リージョン</h2>
      <p>Amazon Bedrock AgentCore Browser が利用可能な <span class="highlight">14</span> の AWS リージョンで利用できます。</p>
      <div class="region-grid">
        <div class="region-group">
          <div class="region-group-title">&#127482;&#127480; 米国</div>
          <ul>
            <li>米国東部 (バージニア北部)</li>
            <li>米国東部 (オハイオ)</li>
            <li>米国西部 (オレゴン)</li>
          </ul>
        </div>
        <div class="region-group">
          <div class="region-group-title">&#127470;&#127475; アジアパシフィック</div>
          <ul>
            <li>東京</li>
            <li>ムンバイ</li>
            <li>シンガポール</li>
            <li>シドニー</li>
            <li>ソウル</li>
          </ul>
        </div>
        <div class="region-group">
          <div class="region-group-title">&#127466;&#127482; 欧州・カナダ</div>
          <ul>
            <li>フランクフルト</li>
            <li>アイルランド</li>
            <li>ロンドン</li>
            <li>パリ</li>
            <li>ストックホルム</li>
            <li>カナダ (中部)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Related Services -->
    <div class="section">
      <h2>&#128279; 関連サービス</h2>
      <div class="related-grid">
        <div class="related-card">
          <div class="related-name">&#128274; AWS Secrets Manager</div>
          <div class="related-desc">プロキシ認証情報のセキュアな保存と管理</div>
        </div>
        <div class="related-card">
          <div class="related-name">&#128101; AWS IAM</div>
          <div class="related-desc">プロキシ認証情報へのアクセス制御</div>
        </div>
        <div class="related-card">
          <div class="related-name">&#128196; AgentCore Browser Profiles</div>
          <div class="related-desc">認証状態の永続化との組み合わせで、プロキシ経由の認証済みセッションを効率化</div>
        </div>
        <div class="related-card">
          <div class="related-name">&#128423; Amazon VPC</div>
          <div class="related-desc">ネットワーク層でのトラフィック制御が必要な場合の VPC 設定</div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <p>出典:</p>
      <ul>
        <li><a href="https://aws.amazon.com/about-aws/whats-new/2026/02/bedrock-agentcore-browser-proxy/" target="_blank">AWS What's New - Bedrock AgentCore Browser Proxy</a></li>
        <li><a href="https://docs.aws.amazon.com/bedrock-agentcore/latest/devguide/browser-proxies.html" target="_blank">Browser Proxies ドキュメント</a></li>
        <li><a href="https://docs.aws.amazon.com/bedrock-agentcore/latest/devguide/browser-tool.html" target="_blank">AgentCore Browser ドキュメント</a></li>
        <li><a href="https://docs.aws.amazon.com/bedrock-agentcore/latest/devguide/agentcore-regions.html" target="_blank">AgentCore リージョン</a></li>
      </ul>
      <p style="margin-top: 16px; opacity: 0.7;">Generated: 2026-02-13 | AWS News Summary</p>
    </footer>
  </div>

  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: 'base',
      themeVariables: {
        primaryColor: '#FF9900',
        primaryTextColor: '#232F3E',
        primaryBorderColor: '#FF9900',
        lineColor: '#FF9900',
        secondaryColor: '#F5F5F5',
        tertiaryColor: '#FAFAFA',
        background: '#FFFFFF',
        mainBkg: '#FFF3E0',
        nodeBorder: '#FF9900',
        clusterBkg: '#FFF8E1',
        clusterBorder: '#FF9900',
        edgeLabelBackground: '#FFFFFF',
        textColor: '#232F3E'
      },
      flowchart: {
        curve: 'basis',
        padding: 20
      }
    });
  </script>
</body>
</html>

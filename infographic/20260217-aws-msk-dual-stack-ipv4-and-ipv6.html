<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Amazon MSK - デュアルスタック (IPv4/IPv6) 接続のサポート</title>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      mermaid.initialize({
        startOnLoad: true,
        theme: 'base',
        themeVariables: {
          primaryColor: '#FF9900',
          primaryTextColor: '#232F3E',
          primaryBorderColor: '#FF9900',
          lineColor: '#FF9900',
          secondaryColor: '#F5F5F5',
          tertiaryColor: '#FAFAFA',
          background: '#FFFFFF',
          mainBkg: '#FFF3E0',
          nodeBorder: '#FF9900',
          clusterBkg: '#FFF8E1',
          clusterBorder: '#FF9900',
          edgeLabelBackground: '#FFFFFF',
          textColor: '#232F3E'
        }
      });
    });
  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/styles/atom-one-dark.min.css">
  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap');

    :root {
      --aws-squid-ink: #232F3E;
      --aws-dark-squid: #1A242F;
      --aws-orange: #FF9900;
      --aws-smile-orange: #FFAD33;
      --aws-white: #FFFFFF;
      --aws-light-gray: #D5DBDB;
      --aws-teal: #00A1C9;
      --aws-purple: #8C4FFF;
      --aws-green: #1D8102;
      --aws-red: #D13212;
    }

    * {
      box-sizing: border-box;
    }

    body {
      background-color: var(--aws-squid-ink);
      font-family: 'Noto Sans JP', 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
      color: var(--aws-light-gray);
      font-size: 16px;
      line-height: 1.6;
      padding: 20px;
      margin: 0;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      width: 100%;
    }

    .header {
      text-align: center;
      margin-bottom: 32px;
      padding-bottom: 24px;
      border-bottom: 2px solid var(--aws-orange);
    }

    .service-badge {
      display: inline-block;
      background: var(--aws-orange);
      color: var(--aws-squid-ink);
      padding: 6px 16px;
      border-radius: 20px;
      font-weight: 600;
      font-size: 14px;
      margin-bottom: 16px;
    }

    h1 {
      font-size: 32px;
      font-weight: 700;
      color: var(--aws-white);
      margin: 0 0 12px 0;
    }

    .subtitle {
      font-size: 16px;
      color: var(--aws-light-gray);
    }

    .date {
      color: var(--aws-orange);
      font-weight: 500;
    }

    h2 {
      font-size: 22px;
      font-weight: 600;
      color: var(--aws-orange);
      margin: 0 0 16px 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section {
      background: var(--aws-dark-squid);
      border-radius: 8px;
      padding: 24px;
      margin-bottom: 24px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .overview-text {
      font-size: 17px;
      line-height: 1.8;
      margin-bottom: 20px;
    }

    .highlight {
      background-color: rgba(255, 153, 0, 0.2);
      padding: 2px 6px;
      border-radius: 4px;
      font-weight: 600;
      color: var(--aws-orange);
    }

    /* Summary Bar */
    .summary-bar {
      background: linear-gradient(135deg, rgba(140, 79, 255, 0.2) 0%, rgba(255, 153, 0, 0.2) 100%);
      border: 1px solid rgba(140, 79, 255, 0.3);
      border-radius: 8px;
      padding: 20px 24px;
      margin-bottom: 24px;
      text-align: center;
    }

    .summary-bar p {
      font-size: 16px;
      line-height: 1.7;
      margin: 0;
      color: var(--aws-white);
    }

    /* Stats Grid */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
      margin-bottom: 24px;
    }

    @media (max-width: 700px) {
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .stat-card {
      background: linear-gradient(135deg, rgba(255, 153, 0, 0.2) 0%, rgba(140, 79, 255, 0.15) 100%);
      border: 1px solid rgba(255, 153, 0, 0.3);
      border-radius: 8px;
      padding: 20px;
      text-align: center;
    }

    .stat-value {
      font-size: 24px;
      font-weight: 700;
      color: var(--aws-orange);
      margin-bottom: 4px;
    }

    .stat-label {
      font-size: 13px;
      color: var(--aws-light-gray);
    }

    /* Before/After */
    .comparison-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 20px;
    }

    @media (max-width: 600px) {
      .comparison-grid {
        grid-template-columns: 1fr;
      }
    }

    .comparison-card {
      padding: 16px;
      border-radius: 8px;
    }

    .comparison-card.before {
      background: rgba(209, 50, 18, 0.15);
      border: 2px solid var(--aws-red);
    }

    .comparison-card.after {
      background: rgba(29, 129, 2, 0.15);
      border: 2px solid var(--aws-green);
    }

    .comparison-title {
      font-weight: 700;
      font-size: 14px;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .comparison-card.before .comparison-title {
      color: var(--aws-red);
    }

    .comparison-card.after .comparison-title {
      color: var(--aws-green);
    }

    .comparison-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .comparison-list li {
      padding: 6px 0;
      font-size: 14px;
      display: flex;
      align-items: flex-start;
      gap: 8px;
    }

    /* Mermaid Container */
    .mermaid-container {
      background: #FFFFFF;
      border-radius: 12px;
      padding: 24px;
      margin: 20px 0;
      border: 2px solid rgba(255, 153, 0, 0.3);
      overflow-x: auto;
    }

    .mermaid {
      display: flex;
      justify-content: center;
    }

    /* Feature Grid */
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }

    @media (max-width: 700px) {
      .feature-grid {
        grid-template-columns: 1fr;
      }
    }

    .feature-card {
      background: var(--aws-squid-ink);
      border-left: 4px solid var(--aws-orange);
      border-radius: 0 8px 8px 0;
      padding: 16px;
    }

    .feature-card-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .feature-icon {
      font-size: 24px;
    }

    .feature-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--aws-white);
    }

    .feature-list {
      list-style: none;
      padding: 0;
      margin: 8px 0 0 0;
    }

    .feature-list li {
      padding: 4px 0;
      font-size: 14px;
      display: flex;
      align-items: flex-start;
      gap: 6px;
      color: var(--aws-light-gray);
    }

    /* Spec Table */
    .spec-table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
    }

    .spec-table th,
    .spec-table td {
      padding: 10px 14px;
      border: 1px solid rgba(255, 255, 255, 0.15);
      text-align: left;
      font-size: 14px;
    }

    .spec-table th {
      background: rgba(255, 153, 0, 0.15);
      color: var(--aws-orange);
      font-weight: 600;
    }

    .spec-table td {
      color: var(--aws-light-gray);
    }

    .spec-table tr:hover td {
      background: rgba(255, 255, 255, 0.03);
    }

    /* Flow Diagram */
    .flow-diagram {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
      margin: 24px 0;
    }

    .flow-step {
      background: var(--aws-dark-squid);
      border: 2px solid var(--aws-orange);
      border-radius: 8px;
      padding: 12px 20px;
      text-align: center;
      min-width: 100px;
    }

    .flow-arrow {
      color: var(--aws-orange);
      font-size: 24px;
      font-weight: bold;
    }

    /* Usecase */
    .usecase-card {
      background: linear-gradient(135deg, rgba(255, 153, 0, 0.1) 0%, rgba(255, 153, 0, 0.05) 100%);
      border: 1px solid rgba(255, 153, 0, 0.3);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 16px;
    }

    .usecase-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--aws-white);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .usecase-scenario {
      font-size: 14px;
      color: var(--aws-light-gray);
      margin-bottom: 8px;
    }

    .usecase-effect {
      font-size: 14px;
      color: var(--aws-green);
      display: flex;
      align-items: flex-start;
      gap: 6px;
    }

    /* Merit Grid */
    .merit-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 16px;
    }

    @media (max-width: 600px) {
      .merit-grid {
        grid-template-columns: 1fr;
      }
    }

    .merit-card {
      padding: 16px;
      border-radius: 8px;
    }

    .merit-card.positive {
      background: rgba(29, 129, 2, 0.1);
      border: 1px solid rgba(29, 129, 2, 0.3);
    }

    .merit-card.negative {
      background: rgba(209, 50, 18, 0.1);
      border: 1px solid rgba(209, 50, 18, 0.3);
    }

    .merit-title {
      font-weight: 700;
      font-size: 15px;
      margin-bottom: 12px;
    }

    .merit-card.positive .merit-title {
      color: var(--aws-green);
    }

    .merit-card.negative .merit-title {
      color: var(--aws-red);
    }

    .merit-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .merit-list li {
      padding: 5px 0;
      font-size: 14px;
      display: flex;
      align-items: flex-start;
      gap: 6px;
    }

    /* Note Card */
    .note-card {
      background: rgba(255, 153, 0, 0.08);
      border: 1px solid rgba(255, 153, 0, 0.25);
      border-radius: 8px;
      padding: 16px;
      margin-top: 16px;
    }

    .note-card-title {
      font-weight: 600;
      color: var(--aws-orange);
      margin-bottom: 8px;
      font-size: 14px;
    }

    .note-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .note-list li {
      padding: 4px 0;
      font-size: 14px;
      display: flex;
      align-items: flex-start;
      gap: 6px;
      color: var(--aws-light-gray);
    }

    /* Related Services */
    .related-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
    }

    @media (max-width: 700px) {
      .related-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .related-card {
      background: var(--aws-squid-ink);
      border: 1px solid rgba(255, 153, 0, 0.3);
      border-radius: 8px;
      padding: 16px;
      text-align: center;
    }

    .related-icon {
      font-size: 28px;
      margin-bottom: 8px;
    }

    .related-name {
      font-size: 14px;
      font-weight: 600;
      color: var(--aws-white);
      margin-bottom: 6px;
    }

    .related-desc {
      font-size: 12px;
      color: var(--aws-light-gray);
    }

    /* Region Badge */
    .region-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(0, 161, 201, 0.15);
      border: 1px solid rgba(0, 161, 201, 0.4);
      border-radius: 8px;
      padding: 12px 20px;
      margin: 12px 0;
    }

    .region-badge-text {
      color: var(--aws-teal);
      font-weight: 600;
      font-size: 15px;
    }

    .region-sub {
      color: var(--aws-light-gray);
      font-size: 13px;
    }

    /* Link Grid */
    .link-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    @media (max-width: 600px) {
      .link-grid {
        grid-template-columns: 1fr;
      }
    }

    .link-card {
      display: flex;
      align-items: center;
      gap: 10px;
      background: var(--aws-squid-ink);
      border: 1px solid rgba(0, 161, 201, 0.3);
      border-radius: 8px;
      padding: 12px 16px;
      text-decoration: none;
      transition: background 0.2s, border-color 0.2s;
    }

    .link-card:hover {
      background: rgba(0, 161, 201, 0.1);
      border-color: var(--aws-teal);
    }

    .link-icon {
      font-size: 20px;
      flex-shrink: 0;
    }

    .link-text {
      color: var(--aws-teal);
      font-size: 14px;
      font-weight: 500;
      word-break: break-all;
    }

    /* Code Block */
    .code-block {
      background: #1a1a2e;
      border-radius: 8px;
      overflow: hidden;
      margin: 16px 0;
    }

    .code-header {
      background: #16213e;
      padding: 8px 16px;
      display: flex;
      justify-content: space-between;
      font-size: 12px;
    }

    .code-lang {
      color: var(--aws-orange);
      font-weight: bold;
    }

    .code-title {
      color: var(--aws-light-gray);
    }

    .code-block pre {
      margin: 0;
      padding: 0;
      overflow-x: auto;
    }

    .code-block code {
      font-family: 'Courier New', monospace;
      font-size: 13px;
      line-height: 1.5;
      padding: 16px !important;
    }

    /* Footer */
    footer {
      margin-top: 32px;
      padding-top: 16px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      font-size: 12px;
      color: var(--aws-light-gray);
      text-align: center;
    }

    footer a {
      color: var(--aws-teal);
      text-decoration: none;
    }

    footer a:hover {
      color: var(--aws-smile-orange);
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- Header -->
    <div class="header">
      <div>
        <span class="service-badge">&#9741; Amazon MSK</span>
      </div>
      <h1>&#128279; デュアルスタック IPv4/IPv6 接続のサポート</h1>
      <p class="subtitle">既存の MSK Provisioned / Serverless クラスターで IPv4 と IPv6 の両方を使用した接続が可能に</p>
      <p class="date">&#128197; 2026 年 2 月 17 日</p>
    </div>

    <!-- Summary Bar -->
    <div class="summary-bar">
      <p>Amazon MSK が既存クラスターに対して<span class="highlight">デュアルスタック接続</span>をサポート。Network Type パラメータを変更するだけで、<span class="highlight">既存の IPv4 接続を維持しながら IPv6 を追加</span>でき、<span class="highlight">追加コストなし</span>でサービスの中断なく移行できます。</p>
    </div>

    <!-- Stats Grid -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value">0 円</div>
        <div class="stat-label">追加コストなし</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">0 秒</div>
        <div class="stat-label">サービス中断なし</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">2 種類</div>
        <div class="stat-label">Provisioned / Serverless 対応</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">全リージョン</div>
        <div class="stat-label">MSK 対応リージョンで利用可能</div>
      </div>
    </div>

    <!-- Overview: Before/After -->
    <div class="section">
      <h2>&#128202; 概要: アップデート前後の比較</h2>
      <p class="overview-text">
        Amazon MSK が、既存の MSK Provisioned および MSK Serverless クラスターに対してデュアルスタック接続をサポートしました。<span class="highlight">IPv4 と IPv6 の両方のプロトコル</span>を使用して接続できるようになり、IPv6 環境へのモダナイゼーションを IPv4 互換性を維持しながら進めることが可能になります。Amazon MSK Console、AWS CLI、SDK、CloudFormation を使用して Network Type パラメータを変更するだけで有効化できます。
      </p>
      <div class="comparison-grid">
        <div class="comparison-card before">
          <div class="comparison-title">&#10060; アップデート前の課題</div>
          <ul class="comparison-list">
            <li><span>&#9888;&#65039;</span><span>MSK Provisioned / Serverless は IPv4 アドレッシングのみサポート</span></li>
            <li><span>&#9888;&#65039;</span><span>IPv6 ネイティブ環境との接続には追加のネットワーク変換レイヤーが必要</span></li>
            <li><span>&#9888;&#65039;</span><span>IPv6 対応コンプライアンス要件を満たすために回避策が必要</span></li>
            <li><span>&#9888;&#65039;</span><span>IPv4 アドレス枯渇に対する準備ができていなかった</span></li>
          </ul>
        </div>
        <div class="comparison-card after">
          <div class="comparison-title">&#9989; アップデート後の改善</div>
          <ul class="comparison-list">
            <li><span>&#128640;</span><span>既存クラスターで IPv4 と IPv6 の両方の接続が可能</span></li>
            <li><span>&#9889;</span><span>Network Type パラメータの変更のみでデュアルスタックを有効化</span></li>
            <li><span>&#128260;</span><span>既存の IPv4 接続を維持しながら IPv6 を追加、中断なし</span></li>
            <li><span>&#128269;</span><span>GetBootstrapBrokers API で IPv6 ブートストラップブローカー文字列を取得</span></li>
            <li><span>&#128176;</span><span>追加コストなしで利用可能</span></li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Architecture Diagram -->
    <div class="section">
      <h2>&#127959;&#65039; アーキテクチャ図</h2>
      <p style="font-size: 14px; margin-bottom: 16px; color: var(--aws-light-gray);">デュアルスタック対応の Amazon MSK クラスターに IPv4 と IPv6 の両方のクライアントから接続する構成を示しています。</p>
      <div class="mermaid-container">
        <pre class="mermaid">
flowchart TD
    subgraph VPC["&#9729;&#65039; Amazon VPC デュアルスタック対応"]
        subgraph Subnet["&#128268; サブネット IPv4 + IPv6 CIDR"]
            subgraph MSKCluster["&#128309; Amazon MSK クラスター Provisioned / Serverless"]
                direction LR
                Broker1["&#128230; ブローカー 1<br/>IPv4 + IPv6"]
                Broker2["&#128230; ブローカー 2<br/>IPv4 + IPv6"]
                Broker3["&#128230; ブローカー 3<br/>IPv4 + IPv6"]
                Broker1 ~~~ Broker2 ~~~ Broker3
            end
        end
    end

    IPv4Client(["&#128100; IPv4 クライアント<br/>プロデューサー / コンシューマー"])
    IPv6Client(["&#128100; IPv6 クライアント<br/>プロデューサー / コンシューマー"])

    Console["&#128421;&#65039; Amazon MSK Console<br/>Network Type 変更"]
    API["&#128225; GetBootstrapBrokers API<br/>IPv6 ブートストラップ取得"]

    IPv4Client -->|"IPv4 接続 - 既存の接続を維持"| MSKCluster
    IPv6Client -->|"IPv6 接続 - 新しいブートストラップ文字列"| MSKCluster
    Console -.->|"IPv4 to デュアルスタック"| MSKCluster
    API -.->|"IPv6 ブローカー文字列取得"| MSKCluster

    classDef vpc fill:none,stroke:#CCCCCC,stroke-width:2px,color:#666666
    classDef subnet fill:none,stroke:#E1BEE7,stroke-width:2px,color:#666666
    classDef msk fill:#FFE0B2,stroke:#FFCC80,stroke-width:2px,color:#5D4037
    classDef broker fill:#E8EAF6,stroke:#C5CAE9,stroke-width:2px,color:#283593
    classDef client fill:#E9F7EC,stroke:#66BB6A,stroke-width:2px,color:#333333
    classDef mgmt fill:#E3F2FD,stroke:#BBDEFB,stroke-width:2px,color:#1565C0

    class VPC vpc
    class Subnet subnet
    class MSKCluster msk
    class Broker1,Broker2,Broker3 broker
    class IPv4Client,IPv6Client client
    class Console,API mgmt
        </pre>
      </div>
    </div>

    <!-- Key Features -->
    <div class="section">
      <h2>&#9889; 主要機能</h2>
      <div class="feature-grid">
        <div class="feature-card">
          <div class="feature-card-header">
            <span class="feature-icon">&#128260;</span>
            <span class="feature-title">既存クラスターのデュアルスタック対応</span>
          </div>
          <ul class="feature-list">
            <li><span>&#8594;</span><span>MSK Provisioned / Serverless の既存クラスターで IPv6 を有効化</span></li>
            <li><span>&#8594;</span><span>Network Type パラメータを IPv4 からデュアルスタックに変更するだけ</span></li>
            <li><span>&#8594;</span><span>新規クラスター作成時にもデュアルスタックを選択可能</span></li>
          </ul>
        </div>
        <div class="feature-card">
          <div class="feature-card-header">
            <span class="feature-icon">&#128640;</span>
            <span class="feature-title">シームレスな移行</span>
          </div>
          <ul class="feature-list">
            <li><span>&#8594;</span><span>既存の IPv4 接続を維持しながら IPv6 対応 NIC を追加</span></li>
            <li><span>&#8594;</span><span>サービスの中断なく移行が完了</span></li>
            <li><span>&#8594;</span><span>明示的に更新しない限り、全クラスターは IPv4 のみを維持</span></li>
          </ul>
        </div>
        <div class="feature-card">
          <div class="feature-card-header">
            <span class="feature-icon">&#128736;&#65039;</span>
            <span class="feature-title">複数の設定方法</span>
          </div>
          <ul class="feature-list">
            <li><span>&#8594;</span><span>Amazon MSK Console からの GUI 操作</span></li>
            <li><span>&#8594;</span><span>AWS CLI での設定変更</span></li>
            <li><span>&#8594;</span><span>AWS SDK を使用したプログラマティックな設定</span></li>
            <li><span>&#8594;</span><span>CloudFormation による IaC 管理</span></li>
          </ul>
        </div>
        <div class="feature-card">
          <div class="feature-card-header">
            <span class="feature-icon">&#128176;</span>
            <span class="feature-title">追加コストなし</span>
          </div>
          <ul class="feature-list">
            <li><span>&#8594;</span><span>デュアルスタック接続の使用に追加料金なし</span></li>
            <li><span>&#8594;</span><span>標準の Amazon MSK 料金のみ適用</span></li>
            <li><span>&#8594;</span><span>コストを増やさずに IPv6 環境への対応が可能</span></li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Technical Specifications -->
    <div class="section">
      <h2>&#128295; 技術仕様</h2>

      <h3 style="color: var(--aws-white); font-size: 16px; margin: 0 0 12px 0;">Network Type パラメータ</h3>
      <table class="spec-table">
        <tr>
          <th>設定値</th>
          <th>説明</th>
        </tr>
        <tr>
          <td><span class="highlight">IPv4</span></td>
          <td>IPv4 のみのアドレッシング (デフォルト)</td>
        </tr>
        <tr>
          <td><span class="highlight">DUAL_STACK</span></td>
          <td>IPv4 と IPv6 の両方のアドレッシング</td>
        </tr>
      </table>

      <h3 style="color: var(--aws-white); font-size: 16px; margin: 20px 0 12px 0;">前提条件</h3>
      <table class="spec-table">
        <tr>
          <th>項目</th>
          <th>詳細</th>
        </tr>
        <tr>
          <td>VPC 要件</td>
          <td>IPv6 CIDR ブロックが関連付けられた VPC</td>
        </tr>
        <tr>
          <td>サブネット要件</td>
          <td>IPv4 と IPv6 の両方の CIDR ブロックが割り当てられたサブネット</td>
        </tr>
        <tr>
          <td>セキュリティグループ</td>
          <td>IPv6 トラフィックを許可するルールの追加が必要</td>
        </tr>
      </table>

      <h3 style="color: var(--aws-white); font-size: 16px; margin: 20px 0 12px 0;">API 変更履歴</h3>
      <table class="spec-table">
        <tr>
          <th>日付</th>
          <th>サービス</th>
          <th>変更内容</th>
        </tr>
        <tr>
          <td>2026/02/16</td>
          <td>Managed Streaming for Kafka</td>
          <td>11 updated api methods - updateConnectivity API で NetworkType パラメータによるデュアルスタック接続をサポート</td>
        </tr>
      </table>
    </div>

    <!-- Setup Steps -->
    <div class="section">
      <h2>&#128221; 設定方法</h2>

      <h3 style="color: var(--aws-white); font-size: 16px; margin: 0 0 12px 0;">&#128204; 前提条件</h3>
      <ul class="feature-list" style="margin-bottom: 20px;">
        <li><span>&#10003;</span><span>MSK Provisioned または MSK Serverless クラスターが作成済みであること</span></li>
        <li><span>&#10003;</span><span>VPC に IPv6 CIDR ブロックが関連付けられていること</span></li>
        <li><span>&#10003;</span><span>サブネットに IPv4 と IPv6 の両方の CIDR ブロックが割り当てられていること</span></li>
        <li><span>&#10003;</span><span>IAM 権限: <code style="color: var(--aws-orange);">kafka:UpdateConnectivity</code>, <code style="color: var(--aws-orange);">kafka:GetBootstrapBrokers</code></span></li>
      </ul>

      <h3 style="color: var(--aws-white); font-size: 16px; margin: 0 0 16px 0;">&#128221; 設定フロー</h3>
      <div class="flow-diagram">
        <div class="flow-step">&#128269; VPC/サブネット<br/><span style="font-size: 12px; color: var(--aws-light-gray);">IPv6 CIDR 確認</span></div>
        <span class="flow-arrow">&#8594;</span>
        <div class="flow-step">&#128274; セキュリティ<br/><span style="font-size: 12px; color: var(--aws-light-gray);">IPv6 ルール追加</span></div>
        <span class="flow-arrow">&#8594;</span>
        <div class="flow-step">&#128260; デュアルスタック<br/><span style="font-size: 12px; color: var(--aws-light-gray);">Network Type 変更</span></div>
        <span class="flow-arrow">&#8594;</span>
        <div class="flow-step">&#128225; ブートストラップ<br/><span style="font-size: 12px; color: var(--aws-light-gray);">IPv6 文字列取得</span></div>
        <span class="flow-arrow">&#8594;</span>
        <div class="flow-step">&#9989; クライアント<br/><span style="font-size: 12px; color: var(--aws-light-gray);">接続設定更新</span></div>
      </div>

      <h3 style="color: var(--aws-white); font-size: 16px; margin: 20px 0 12px 0;">Step 1: VPC とサブネットの IPv6 対応確認</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Bash</span>
          <span class="code-title">VPC の IPv6 CIDR 確認</span>
        </div>
        <pre><code class="language-bash"># VPC に IPv6 CIDR ブロックが関連付けられているか確認
aws ec2 describe-vpcs --vpc-ids vpc-xxxxxxxx \
  --query 'Vpcs[0].Ipv6CidrBlockAssociationSet'</code></pre>
      </div>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Bash</span>
          <span class="code-title">IPv6 CIDR ブロックの追加</span>
        </div>
        <pre><code class="language-bash"># IPv6 CIDR ブロックを VPC に追加
aws ec2 associate-vpc-cidr-block \
  --vpc-id vpc-xxxxxxxx \
  --amazon-provided-ipv6-cidr-block

# サブネットに IPv6 CIDR ブロックを割り当て
aws ec2 associate-subnet-cidr-block \
  --subnet-id subnet-xxxxxxxx \
  --ipv6-cidr-block 2600:1f18:xxxx:xxxx::/64</code></pre>
      </div>

      <h3 style="color: var(--aws-white); font-size: 16px; margin: 20px 0 12px 0;">Step 2: セキュリティグループの更新</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Bash</span>
          <span class="code-title">IPv6 インバウンドルール追加</span>
        </div>
        <pre><code class="language-bash"># IPv6 トラフィックを許可するインバウンドルールを追加
aws ec2 authorize-security-group-ingress \
  --group-id sg-xxxxxxxx \
  --ip-permissions IpProtocol=tcp,FromPort=9092,ToPort=9098,\
Ipv6Ranges='[{CidrIpv6=::/0,Description="MSK IPv6 access"}]'</code></pre>
      </div>

      <h3 style="color: var(--aws-white); font-size: 16px; margin: 20px 0 12px 0;">Step 3: クラスターのデュアルスタック有効化</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Bash</span>
          <span class="code-title">Network Type をデュアルスタックに変更</span>
        </div>
        <pre><code class="language-bash"># MSK クラスターの Network Type をデュアルスタックに変更
aws kafka update-connectivity \
  --cluster-arn arn:aws:kafka:ap-northeast-1:123456789012:cluster/my-cluster/xxxxx \
  --connectivity-info '{
    "PublicAccess": {
      "Type": "DISABLED"
    },
    "VpcConnectivity": {
      "ClientAuthentication": {
        "Tls": { "Enabled": true }
      }
    }
  }' \
  --current-version K1234567890 \
  --network-type DUAL_STACK</code></pre>
      </div>

      <h3 style="color: var(--aws-white); font-size: 16px; margin: 20px 0 12px 0;">Step 4: IPv6 ブートストラップブローカー文字列の取得</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Bash</span>
          <span class="code-title">IPv6 ブートストラップブローカー取得</span>
        </div>
        <pre><code class="language-bash"># IPv6 ブートストラップブローカー文字列を取得
aws kafka get-bootstrap-brokers \
  --cluster-arn arn:aws:kafka:ap-northeast-1:123456789012:cluster/my-cluster/xxxxx</code></pre>
      </div>

      <h3 style="color: var(--aws-white); font-size: 16px; margin: 20px 0 12px 0;">Step 5: クライアントアプリケーションの更新</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Properties</span>
          <span class="code-title">Kafka クライアント設定例</span>
        </div>
        <pre><code class="language-properties"># IPv6 ブートストラップブローカーを使用
bootstrap.servers=b-1.my-cluster.xxxxx.kafka.ap-northeast-1.amazonaws.com:9094,\
b-2.my-cluster.xxxxx.kafka.ap-northeast-1.amazonaws.com:9094,\
b-3.my-cluster.xxxxx.kafka.ap-northeast-1.amazonaws.com:9094
security.protocol=SSL</code></pre>
      </div>
    </div>

    <!-- Merits / Demerits -->
    <div class="section">
      <h2>&#9878;&#65039; メリット・デメリット</h2>
      <div class="merit-grid">
        <div class="merit-card positive">
          <div class="merit-title">&#9989; メリット</div>
          <ul class="merit-list">
            <li><span>&#128188;</span><span><strong style="color: var(--aws-white);">コンプライアンス対応</strong>: IPv6 対応が義務付けられている規制要件を満たすことが可能</span></li>
            <li><span>&#128640;</span><span><strong style="color: var(--aws-white);">将来対応</strong>: IPv4 アドレス枯渇に備えたインフラのモダナイゼーション</span></li>
            <li><span>&#128176;</span><span><strong style="color: var(--aws-white);">コスト効率</strong>: 追加コストなしでデュアルスタック接続を利用可能</span></li>
            <li><span>&#128260;</span><span><strong style="color: var(--aws-white);">サービス継続性</strong>: 移行中もサービスの中断なく既存の接続を維持</span></li>
            <li><span>&#128736;&#65039;</span><span><strong style="color: var(--aws-white);">既存クラスター対応</strong>: 新規作成不要で既存クラスターにデュアルスタックを有効化</span></li>
            <li><span>&#128279;</span><span><strong style="color: var(--aws-white);">ネットワーク簡素化</strong>: IPv6 ネイティブ環境では NAT 変換が不要に</span></li>
          </ul>
        </div>
        <div class="merit-card negative">
          <div class="merit-title">&#9888;&#65039; 制約事項・注意点</div>
          <ul class="merit-list">
            <li><span>&#128203;</span><span><strong style="color: var(--aws-white);">VPC 要件</strong>: IPv4 と IPv6 の両方の CIDR ブロックが事前に必要</span></li>
            <li><span>&#128683;</span><span><strong style="color: var(--aws-white);">IPv6 のみ不可</strong>: デュアルスタックモードでのみ IPv6 を使用可能</span></li>
            <li><span>&#128274;</span><span><strong style="color: var(--aws-white);">SG 更新必須</strong>: IPv6 トラフィック許可ルールの追加が必要</span></li>
            <li><span>&#128269;</span><span><strong style="color: var(--aws-white);">DNS 確認</strong>: AAAA レコードの解決設定の確認が必要</span></li>
            <li><span>&#128202;</span><span><strong style="color: var(--aws-white);">監視見直し</strong>: IPv6 トラフィックが適切に記録されるか確認が必要</span></li>
            <li><span>&#128187;</span><span><strong style="color: var(--aws-white);">クライアント確認</strong>: アプリケーションの IPv6 サポート状況の確認が必要</span></li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Use Cases -->
    <div class="section">
      <h2>&#127919; ユースケース</h2>
      <div class="usecase-card">
        <div class="usecase-title">&#128225; ユースケース 1: IPv6 ネイティブ環境からのストリーミングデータ処理</div>
        <div class="usecase-scenario"><strong>シナリオ</strong>: IPv6 のみをサポートするモバイルネットワークや IoT デバイスからストリーミングデータを MSK に送信する場合。</div>
        <div class="usecase-effect"><span>&#10024;</span><span><strong>効果</strong>: NAT64/DNS64 などのネットワーク変換レイヤーが不要になり、IPv6 デバイスから直接 MSK に接続でき、レイテンシが改善されます。</span></div>
      </div>
      <div class="usecase-card">
        <div class="usecase-title">&#128220; ユースケース 2: コンプライアンス要件への対応</div>
        <div class="usecase-scenario"><strong>シナリオ</strong>: 政府機関や規制産業において IPv6 対応が義務付けられている環境で MSK を使用する場合。</div>
        <div class="usecase-effect"><span>&#10024;</span><span><strong>効果</strong>: 既存のクラスターを再作成することなく IPv6 対応要件を満たすことができ、サービスの中断なくコンプライアンスに準拠できます。</span></div>
      </div>
      <div class="usecase-card">
        <div class="usecase-title">&#127760; ユースケース 3: ハイブリッドクラウド環境でのネットワーク統合</div>
        <div class="usecase-scenario"><strong>シナリオ</strong>: オンプレミスの IPv6 ネットワークと AWS 間で Kafka ストリーミングデータを処理する場合。</div>
        <div class="usecase-effect"><span>&#10024;</span><span><strong>効果</strong>: オンプレミスの IPv6 ネットワークから直接 MSK に接続でき、統一されたネットワークアーキテクチャによる運用の簡素化が実現します。</span></div>
      </div>
    </div>

    <!-- Pricing -->
    <div class="section">
      <h2>&#128176; 料金情報</h2>
      <table class="spec-table">
        <tr>
          <th>項目</th>
          <th>説明</th>
        </tr>
        <tr>
          <td>MSK Provisioned</td>
          <td>ブローカーインスタンス時間とストレージに基づく料金</td>
        </tr>
        <tr>
          <td>MSK Serverless</td>
          <td>クラスター時間、パーティション時間、データ保持ストレージ、スループットに基づく料金</td>
        </tr>
        <tr>
          <td><strong style="color: var(--aws-green);">デュアルスタック接続</strong></td>
          <td><strong style="color: var(--aws-green);">追加コストなし</strong></td>
        </tr>
      </table>
      <p style="font-size: 14px; margin-top: 12px;">詳細は <a href="https://aws.amazon.com/msk/pricing/" target="_blank" rel="noopener noreferrer" style="color: var(--aws-teal); text-decoration: none; font-weight: 500;">Amazon MSK 料金ページ</a> を参照してください。</p>
    </div>

    <!-- Region -->
    <div class="section">
      <h2>&#127758; 利用可能リージョン</h2>
      <div class="region-badge">
        <span style="font-size: 24px;">&#127760;</span>
        <div>
          <div class="region-badge-text">全 AWS リージョン</div>
          <div class="region-sub">Amazon MSK が利用可能なすべての AWS リージョンで利用可能</div>
        </div>
      </div>
    </div>

    <!-- Related Services -->
    <div class="section">
      <h2>&#128279; 関連サービス・機能</h2>
      <div class="related-grid">
        <div class="related-card">
          <div class="related-icon">&#9729;&#65039;</div>
          <div class="related-name">Amazon VPC</div>
          <div class="related-desc">IPv6 対応 VPC とサブネットの構成</div>
        </div>
        <div class="related-card">
          <div class="related-icon">&#128268;</div>
          <div class="related-name">Amazon MSK Connect</div>
          <div class="related-desc">MSK Connect でもデュアルスタック接続をサポート</div>
        </div>
        <div class="related-card">
          <div class="related-icon">&#128736;&#65039;</div>
          <div class="related-name">AWS CloudFormation</div>
          <div class="related-desc">IaC でのデュアルスタック設定管理</div>
        </div>
        <div class="related-card">
          <div class="related-icon">&#128202;</div>
          <div class="related-name">Amazon CloudWatch</div>
          <div class="related-desc">MSK クラスターのモニタリングとメトリクス</div>
        </div>
      </div>
    </div>

    <!-- Reference Links -->
    <div class="section">
      <h2>&#128218; 参考リンク</h2>
      <div class="link-grid">
        <a href="https://aws.amazon.com/about-aws/whats-new/2026/02/aws-msk-dual-stack-ipv4-and-ipv6/" target="_blank" rel="noopener noreferrer" class="link-card">
          <span class="link-icon">&#128227;</span>
          <span class="link-text">公式発表 - What's New</span>
        </a>
        <a href="https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html" target="_blank" rel="noopener noreferrer" class="link-card">
          <span class="link-icon">&#128218;</span>
          <span class="link-text">Amazon MSK 開発者ガイド</span>
        </a>
        <a href="https://awsapichanges.com/archive/changes/11d064-kafka.html" target="_blank" rel="noopener noreferrer" class="link-card">
          <span class="link-icon">&#128203;</span>
          <span class="link-text">API 変更履歴</span>
        </a>
        <a href="https://aws.amazon.com/msk/pricing/" target="_blank" rel="noopener noreferrer" class="link-card">
          <span class="link-icon">&#128176;</span>
          <span class="link-text">料金ページ</span>
        </a>
      </div>
    </div>

    <!-- Summary -->
    <div class="section" style="border: 2px solid var(--aws-orange);">
      <h2>&#128204; まとめ</h2>
      <p style="font-size: 16px; line-height: 1.8;">
        Amazon MSK が既存の MSK Provisioned および MSK Serverless クラスターに対して<span class="highlight">デュアルスタック接続</span>をサポートしました。Network Type パラメータを変更するだけで、<span class="highlight">既存の IPv4 接続を維持しながら IPv6 を追加</span>でき、サービスの中断なく移行できます。<span class="highlight">追加コストなし</span>で利用可能であり、IPv6 対応コンプライアンス要件への対応や、IPv6 ネイティブ環境からのストリーミングデータ処理に効果を発揮します。MSK が利用可能なすべての AWS リージョンで利用でき、IPv6 環境へのモダナイゼーションを検討している場合は、既存クラスターでのデュアルスタック有効化を推奨します。
      </p>
    </div>

    <!-- Footer -->
    <footer>
      <p>&#128206; 出典:</p>
      <p><a href="https://aws.amazon.com/about-aws/whats-new/2026/02/aws-msk-dual-stack-ipv4-and-ipv6/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/about-aws/whats-new/2026/02/aws-msk-dual-stack-ipv4-and-ipv6/</a></p>
      <p><a href="https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html</a></p>
      <p><a href="https://awsapichanges.com/archive/changes/11d064-kafka.html" target="_blank" rel="noopener noreferrer">https://awsapichanges.com/archive/changes/11d064-kafka.html</a></p>
      <p style="margin-top: 12px; color: rgba(213, 219, 219, 0.6);">Generated by AWS News Infographic Tool</p>
    </footer>

  </div>
</body>
</html>